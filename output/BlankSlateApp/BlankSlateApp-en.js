(/*Copyright_2020_Erik_Neumann_All_Rights_Reserved_www.myphysicslab.com*/function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var r=this||self;function aa(){}function t(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ba(a,b){function c(){}c.prototype=b.prototype;a.$=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.pa=function(e,d,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[d].apply(e,g)}};const ca=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},da=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){const c=a.length,e="string"===typeof a?a.split(""):a;for(let d=0;d<c;d++)d in e&&b.call(void 0,e[d],d,a)},ea=Array.prototype.reduce?function(a,b,c){return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c){let e=c;da(a,function(d,f){e=b.call(void 0,e,d,f,a)});return e};function fa(a,b){a:{const c=a.length,e="string"===typeof a?a.split(""):a;for(let d=0;d<c;d++)if(d in e&&b.call(void 0,e[d],d,a)){b=d;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function ha(a,b){b=ca(a,b);let c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function ia(a,b,c,e){Array.prototype.splice.apply(a,ja(arguments,1))}
function ja(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function ka(a,b){a.sort(b||la)}function ma(a,b){const c=Array(a.length);for(let d=0;d<a.length;d++)c[d]={index:d,value:a[d]};const e=b||la;ka(c,function(d,f){return e(d.value,f.value)||d.index-f.index});for(b=0;b<a.length;b++)a[b]=c[b].value}function la(a,b){return a>b?1:a<b?-1:0};function u(a){const b=document.createElement("img");b.src=a;b.width=30;b.height=30;return b}function na(){window.onerror=function(a,b,c){3>oa++&&alert(a+"\n"+b+":"+c)}}function pa(a){if(void 0!==a)qa=a;else throw"images directory not found";}function v(a){if(!isFinite(a))throw"not a finite number "+a;return a}function x(a){if(isNaN(a))throw"not a number "+a;return a}function y(a){return a.toUpperCase().replace(/[ -]/g,"_")}
function z(a){if(!a.match(/^[A-Z_][A-Z_0-9]*$/))throw"not a valid name: "+a;return a}function A(a,b){var c=c||1E-14;if(isNaN(a)||isNaN(b))throw"argument is NaN";if(0>=c)throw"epsilon must be positive "+c;var e=e||1;if(0>=e)throw"magnitude must be positive "+e;const d=Math.max(Math.abs(a),Math.abs(b));return Math.abs(a-b)>(d>e?d:e)*c}var qa=".",ra=t(performance)&&"function"===typeof performance.now,sa=Number.NaN,ta=Number.NEGATIVE_INFINITY,oa=0,ua=Number.POSITIVE_INFINITY;class B{constructor(a,b,c){this.l=z(y(b));this.o=a;this.m=c}toString(){return this.v()}v(){const a=this.m;"object"===typeof a&&null!==a&&void 0!==a.v&&a.v();return""}h(){return this.l}i(){return this.o}g(){return this.m}j(a){return this.l==y(a)}};function va(a,b){if("boolean"!==typeof b)throw"non-boolean value: "+b;b!==a.g()&&a.s(b)}class wa{constructor(a,b,c,e,d){this.u=a;this.l=z(y(b));this.o=c;this.m=e;this.s=d}toString(){return""}v(){return""}h(a){return a?this.o:this.l}i(){return this.u}g(){return this.m()}j(a){return this.l==y(a)}};function xa(a){var b=Number.NEGATIVE_INFINITY;if(b>a.g()||b>a.m)throw"out of range: "+b+" value="+a.g()+" upper="+a.m;return a}class C{constructor(a,b,c,e){this.u=a;this.l=z(y(b));this.s=c;this.o=e;this.m=ua}toString(){return""}v(){return""}h(a){return a?this.s:this.l}i(){return this.u}g(){return this.o()}j(a){return this.l==y(a)}};class ya{constructor(a,b,c,e,d,f){this.s=a;this.l=z(y(b));this.o=c;this.m=e;if(null!=d)if(null!=f){if(f.length!==d.length)throw"different lengths choices:"+d+" values:"+f;}else throw"values is not defined";}toString(){return""}v(){return""}h(a){return a?this.o:this.l}i(){return this.s}g(){return this.m()}j(a){return this.l==y(a)}};function za(a){if(!a.J){for(let b=0,c=a.D.length;b<c;b++){const e=a.D[b];e.action?a.I.includes(e.V)||a.I.push(e.V):ha(a.I,e.V)}a.D=[]}}function Aa(a,b){a.D.push({action:!0,V:b});za(a)}function Ca(a,b){b=y(b);return fa(a.Y,c=>c.h()==b)}function D(a,b){const c=b.h(),e=Ca(a,c);if(null!=e)throw"parameter "+c+" already exists: "+e;a.Y.push(b)}function F(a,b){a.J=!0;try{a.I.forEach(c=>c.j(b))}finally{a.J=!1,za(a)}}function G(a,b){const c=Ca(a,b);if(null==c)throw"unknown Parameter "+b;F(a,c)}
class Da{constructor(a){if(!a)throw"no name";z(y(a));this.I=[];this.Y=[];this.J=!1;this.D=[]}toString(){return""}v(){return""}};var Ea=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Fa(a,b){return a<b?-1:a>b?1:0};function Ga(){var a=r.navigator;return a&&(a=a.userAgent)?a:""}function H(a){return-1!=Ga().indexOf(a)};function Ha(a){Ha[" "](a);return a}Ha[" "]=aa;function Ia(a,b){var c=Ja;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ka=H("Opera"),La=H("Trident")||H("MSIE"),Ma=H("Edge"),Na=H("Gecko")&&!(-1!=Ga().toLowerCase().indexOf("webkit")&&!H("Edge"))&&!(H("Trident")||H("MSIE"))&&!H("Edge"),Oa=-1!=Ga().toLowerCase().indexOf("webkit")&&!H("Edge"),Pa;
a:{var Qa="",Ra=function(){var a=Ga();if(Na)return/rv:([^\);]+)(\)|;)/.exec(a);if(Ma)return/Edge\/([\d\.]+)/.exec(a);if(La)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Oa)return/WebKit\/(\S+)/.exec(a);if(Ka)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Ra&&(Qa=Ra?Ra[1]:"");if(La){var Sa,Ta=r.document;Sa=Ta?Ta.documentMode:void 0;if(null!=Sa&&Sa>parseFloat(Qa)){Pa=String(Sa);break a}}Pa=Qa}var Ja={};
function Ua(a){return Ia(a,function(){{var b=0;const d=Ea(String(Pa)).split("."),f=Ea(String(a)).split("."),g=Math.max(d.length,f.length);for(let h=0;0==b&&h<g;h++){var c=d[h]||"",e=f[h]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];if(0==c[0].length&&0==e[0].length)break;b=Fa(0==c[1].length?0:parseInt(c[1],10),0==e[1].length?0:parseInt(e[1],10))||Fa(0==c[2].length,0==e[2].length)||Fa(c[2],e[2]);c=c[3];e=e[3]}while(0==b)}}return 0<=b})};var Va=La||Oa;function Wa(a,b){this.type=a;this.target=b}Wa.prototype.h=function(){};var Xa=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{r.addEventListener("test",aa,b),r.removeEventListener("test",aa,b)}catch(c){}return a}();function I(a){Wa.call(this,a?a.type:"");this.relatedTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.g=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.i=null;if(a){var b=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;var e=a.relatedTarget;if(e){if(Na){a:{try{Ha(e.nodeName);var d=!0;break a}catch(f){}d=!1}d||(e=null)}}else"mouseover"==
b?e=a.fromElement:"mouseout"==b&&(e=a.toElement);this.relatedTarget=e;c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.g=a.keyCode||0;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:Ya[a.pointerType]||"";this.i=a;a.defaultPrevented&&I.$.h.call(this)}}ba(I,Wa);var Ya={2:"touch",3:"pen",4:"mouse"};I.prototype.h=function(){I.$.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Za="closure_listenable_"+(1E6*Math.random()|0);var $a=0;function ab(a,b,c,e,d){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!e;this.h=d;this.key=++$a;this.g=this.U=!1}function bb(a){a.g=!0;a.listener=null;a.proxy=null;a.src=null;a.h=null};function cb(a){this.src=a;this.g={};this.h=0}cb.prototype.add=function(a,b,c,e,d){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.h++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.g&&h.listener==b&&h.capture==!!e&&h.h==d)break a}g=-1}-1<g?(b=a[g],c||(b.U=!1)):(b=new ab(b,this.src,f,!!e,d),b.U=c,a.push(b));return b};var db="closure_lm_"+(1E6*Math.random()|0),eb={},fb=0;function J(a,b,c,e,d){if(e&&e.once)gb(a,b,c,e,d);else if(Array.isArray(b))for(var f=0;f<b.length;f++)J(a,b[f],c,e,d);else c=hb(c),a&&a[Za]?a.g(b,c,t(e)?!!e.capture:!!e,d):ib(a,b,c,!1,e,d)}
function ib(a,b,c,e,d,f){if(!b)throw Error("Invalid event type");var g=t(d)?!!d.capture:!!d,h=jb(a);h||(a[db]=h=new cb(a));c=h.add(b,c,e,g,f);if(!c.proxy){e=kb();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)Xa||(d=g),void 0===d&&(d=!1),a.addEventListener(b.toString(),e,d);else if(a.attachEvent)a.attachEvent(lb(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");fb++}}
function kb(){function a(c){return b.call(a.src,a.listener,c)}const b=mb;return a}function gb(a,b,c,e,d){if(Array.isArray(b))for(var f=0;f<b.length;f++)gb(a,b[f],c,e,d);else c=hb(c),a&&a[Za]?a.h(b,c,t(e)?!!e.capture:!!e,d):ib(a,b,c,!0,e,d)}function lb(a){return a in eb?eb[a]:eb[a]="on"+a}
function mb(a,b){if(a.g)a=!0;else{b=new I(b,this);var c=a.listener,e=a.h||a.src;if(a.U&&"number"!==typeof a&&a&&!a.g){var d=a.src;if(d&&d[Za])d.i(a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(lb(f),g):d.addListener&&d.removeListener&&d.removeListener(g);fb--;(f=jb(d))?(g=a.type,g in f.g&&ha(f.g[g],a)&&(bb(a),0==f.g[g].length&&(delete f.g[g],f.h--)),0==f.h&&(f.src=null,d[db]=null)):bb(a)}}a=c.call(e,b)}return a}
function jb(a){a=a[db];return a instanceof cb?a:null}var nb="__closure_events_fn_"+(1E9*Math.random()>>>0);function hb(a){if("function"===typeof a)return a;a[nb]||(a[nb]=function(b){return a.handleEvent(b)});return a[nb]};function ob(a,b){a.h()!=b&&a.s(b);a.l!=a.h()&&(a.l=a.h(),a.i.checked=a.l)}
class pb{constructor(a,b,c){var e=void 0;this.o=a;this.h=b;this.s=c;this.l=b();a=null;if(t(e)){a:{if(Va&&!(La&&Ua("9")&&!Ua("10")&&r.SVGElement&&e instanceof r.SVGElement)&&(b=e.parentElement))break a;b=e.parentNode;b=t(b)&&1==b.nodeType?b:null}null!=b&&"LABEL"==b.tagName&&(a=b)}else e=document.createElement("input"),e.type="checkbox",a=document.createElement("LABEL"),a.appendChild(e),a.appendChild(document.createTextNode(this.o));this.i=e;this.i.checked=this.l;this.A=null!==a?a:this.i;J(this.i,"change",
this.u,!0,this)}toString(){return""}v(){return""}g(){return this.A}u(){ob(this,!this.h())}j(){ob(this,this.h())}};class qb extends pb{constructor(a){super(a.h(!0),()=>a.g(),b=>va(a,b));this.m=a;Aa(this.m.i(),this)}toString(){return""}j(a){a==this.m&&super.j(a)}};function rb(a){a.m();0<a.h&&(a.i=setTimeout(()=>rb(a),void 0!==a.i?a.h:2*a.h))}
class K{constructor(a,b,c){if(!t(e)){var e=document.createElement("button");e.type="button";void 0===c?e.appendChild(document.createTextNode(a)):(e.className="icon",e.appendChild(c))}this.j=e;this.m=b;J(this.j,"mousedown",this.o,!0,this);J(this.j,"mouseup",this.l,!0,this);J(this.j,"dragleave",this.l,!1,this);this.i=void 0;this.h=0}toString(){return""}v(){return""}g(){return this.j}o(){rb(this)}l(){void 0!==this.i&&(clearTimeout(this.i),this.i=void 0)}};function sb(a,b){return new L(a.g-b.g,a.h-b.h,a.i-b.i)}class L{constructor(a,b,c){c="number"===typeof c?c:0;this.g=x(a);this.h=x(b);this.i=x(c);this.j=this.l=sa}toString(){return""}add(a){return new L(this.g+a.g,this.h+a.h,this.i+a.i)}u(a){return null===a?!1:a.g===this.g&&a.h===this.h&&a.i===this.i}length(){if(isNaN(this.l)){var a=Math,b=a.sqrt;isNaN(this.j)&&(this.j=0===this.i?this.g*this.g+this.h*this.h:this.g*this.g+this.h*this.h+this.i*this.i);this.l=b.call(a,this.j)}return this.l}}new L(1,0);
new L(0,1);new L(0,0);new L(0,-1);new L(-1,0);class tb{constructor(a,b,c,e,d,f){this.g=a;this.h=b;this.i=c;this.j=e;this.l=d;this.m=f}toString(){return""}scale(a,b){return new tb(this.g*a,this.h*a,this.i*b,this.j*b,this.l,this.m)}transform(a,b){"number"!==typeof a&&(b=a.h,a=a.g);if("number"!==typeof a||"number"!==typeof b)throw"need a Vector or two numbers";return new L(this.g*a+this.i*b+this.l,this.h*a+this.j*b+this.m)}translate(a,b){"number"!==typeof a&&(b=a.h,a=a.g);if("number"!==typeof a||"number"!==typeof b)throw"need a Vector or two numbers";
return new tb(this.g,this.h,this.i,this.j,this.l+this.g*a+this.i*b,this.m+this.h*a+this.j*b)}}var ub=new tb(1,0,0,1,0,0);function M(a){return(a.o+a.m)/2}function N(a){return(a.g+a.s)/2}
class O{constructor(a,b,c,e){this.o=x(a);this.m=x(c);this.g=x(b);this.s=x(e);if(a>c)throw"DoubleRect: left > right "+a+" > "+c;if(b>e)throw"DoubleRect: bottom > top "+b+" > "+e;}toString(){return""}u(a){return a===this?!0:a instanceof O?a.j()==this.o&&a.m==this.m&&a.g==this.g&&a.l()==this.s:!1}i(){return this.s-this.g}j(){return this.o}l(){return this.s}h(){return this.m-this.o}A(){return 1E-16>this.h()||1E-16>this.i()}scale(a,b){b=void 0===b?a:b;const c=M(this),e=N(this),d=this.h(),f=this.i();return new O(c-
a*d/2,e-b*f/2,c+a*d/2,e+b*f/2)}translate(a,b){"number"!==typeof a&&(b=a.h,a=a.g);if("number"!==typeof a||"number"!==typeof b)throw"";return new O(this.o+a,this.g+b,this.m+a,this.s+b)}}var vb=new O(0,0,0,0);var wb={da:"left",P:"middle",ea:"right",O:"full",T:"value"},P=wb;P=wb;class xb{constructor(a,b){if("number"!==typeof a||"number"!==typeof b)throw"";if(0>a||0>b)throw"";this.m=a;this.g=b}toString(){return""}u(a){return this.m==a.m&&this.g==a.g}i(){return this.g}j(){return 0}l(){return 0}h(){return this.m}A(){return 1E-14>this.m||1E-14>this.g}}new xb(0,0);var yb={fa:"top",P:"middle",aa:"bottom",O:"full",T:"value"},Q=yb;Q=yb;function zb(a,b){a:{var c="MIDDLE";var e=["LEFT","MIDDLE","RIGHT","FULL","VALUE"];for(let E=0,Ba=e.length;E<Ba;E++)if(c===e[E]){c=e[E];break a}throw"invalid HorizAlign value:  "+c;}a:{e="MIDDLE";var d=["TOP","MIDDLE","BOTTOM","FULL","VALUE"];for(let E=0,Ba=d.length;E<Ba;E++)if(e===d[E]){var f=d[E];break a}throw"invalid VerticalAlign value: "+e;}var g=1;if(1E-15>g||!isFinite(g))throw"bad aspectRatio "+g;e=b.j();d=b.g;const h=b.m-e,n=b.l()-d;if(1E-15>h||1E-15>n)throw"simRect cannot be empty "+b;b=a.l();
const m=a.j(),l=a.h();a=a.i();var k=0;let q=0,p=0,w=0;"FULL"==c&&(p=l/h,k=0);"FULL"==f&&(w=a/n,q=0);if("FULL"!=c||"FULL"!=f)if("FULL"==c?(w=p*g,k=!0):"FULL"==f?(p=w/g,k=!1):(p=l/h,w=p*g,k=!0,a<Math.floor(.5+w*n)&&(w=a/n,p=w/g,k=!1)),k)switch(k=0,c=Math.floor(.5+n*w),f){case "BOTTOM":q=0;break;case "MIDDLE":q=(a-c)/2;break;case "TOP":q=a-c;break;default:throw"unsupported alignment "+f;}else switch(q=0,f=Math.floor(.5+h*p),c){case "LEFT":k=0;break;case "MIDDLE":k=(l-f)/2;break;case "RIGHT":k=l-f;break;
default:throw"unsupported alignment "+c;}return new Ab(m,b+a,e-k/p,d-q/w,p,w)}function Bb(a,b){return a.m+(b-a.j)/a.g}function Cb(a,b){return a.l+(a.i-b)/a.h}function Db(a,b){let c;"number"===typeof b?c=void 0:(c=b.h,b=b.g);if("number"!==typeof b||"number"!==typeof c)throw"";return new L(Bb(a,b),Cb(a,c))}function R(a,b){return a.j+(b-a.m)*a.g}function S(a,b){return a.i-(b-a.l)*a.h}
class Ab{constructor(a,b,c,e,d,f){this.j=v(a);this.i=v(b);this.m=v(c);this.l=v(e);this.g=v(d);this.h=v(f);a=ub;a=a.translate(this.j,this.i);a=a.scale(this.g,-this.h);a.translate(-this.m,-this.l)}toString(){return""}};function Eb(a,b){var c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10));b/=c;c*=8<=b?2:5<=b?1:3<=b?.5:2<=b?.4:.2;b=Math.log(c)/Math.LN10;a.j=0>b?Math.ceil(-b):0;return c}function Fb(a){a.m="BOTTOM";a.g=!0}function Gb(a){a.i="LEFT";a.g=!0}class Hb{constructor(a){this.h=a||vb;this.s="14pt sans-serif";this.l="gray";this.o=0;this.m="VALUE";this.u=0;this.i="VALUE";this.j=0;this.g=!0}toString(){return""}v(){return""}};function Ib(a){return a.replace(/\\(x|u00)([0-9a-fA-F]{2})/g,function(b,c,e){return String.fromCharCode(Number("0x"+e))})}
function Jb(a,b){for(let e in window){a:{for(let d=0,f=b.length;d<f;d++)if(e==b[d]){var c=!1;break a}c=(new RegExp("\\b"+e+"\\b","g")).test(a)}if(c)throw'prohibited name: "'+e+'" found in script: '+a;}if(/\b(myEval|Function|with|__proto__|call|apply|caller|callee|arguments|addAllowList|vetCommand|badCommand|allowList_|addRegex|addRegex2|regexs_|afterEvalFn_|setAfterEval|parentNode|parentElement|innerHTML|outerHTML|offsetParent|insertAdjacentHTML|appendChild|insertBefore|replaceChild|removeChild|ownerDocument|insertBefore|setParser|defineNames|globalEval|window|defineProperty|defineProperties|__defineGetter__|__defineSetter__)\b/g.test(a))throw"prohibited name in script: "+a;
}function T(a,b){a.j&&(a.j.value+=b+"\n",Kb(a))}function Lb(a){let b=0,c="",e,d,f="",g=!1,h=!1,n=!1,m="",l,k;l=0;for(k=a.length;l<k;l++)if(e=f," "!=f&&"\t"!=f&&"\n"!=f&&(c=f),f=a[l],d=l+1<k?a[l+1]:"\x00",g){if("\n"==f&&(g=!1,0==b))break}else if(h)"/"==f&&"\\"!=e&&(h=!1);else if(n)f==m&&"\\"!=e&&(n=!1,m="");else if("/"==f)"/"==d?g=!0:"*"==d||!c||"="!=c&&"("!=c||(h=!0);else if('"'==f||"'"==f)n=!0,m=f;else if(";"==f&&0==b)break;else"{"==f?b++:"}"==f&&b--;return[a.slice(0,l+1),a.slice(l+1)]}
function Mb(a,b){b=Nb(b);let c="",e=0;for(;b;){if(1E4<++e)throw"Terminal.expand";var d=b.match(/^[^'"/]+/);if(null!==d&&(d=d[0],b=b.slice(d.length),d=ea(a.D,function(f,g){return f.replace(g.qa,g.replace)},d),Jb(d,a.A),c+=d,0==b.length))break;if(c.match(/.*[=(][ ]*$/)&&(d=b.match(/^\/[^*/](\\\/|[^\\/])*\//),null!==d)){d=d[0];b=b.slice(d.length);c+=d;continue}0<b.length&&"/"==b[0]?(c+="/",b=b.slice(1)):(d=b.match(/^"(\\.|[^\\"])*"/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&'"'==b[0]?(c+=
'"',b=b.slice(1)):(d=b.match(/^'(\\.|[^\\'])*'/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&"'"==b[0]&&(c+="'",b=b.slice(1))))}return c}function Kb(a){a.g&&a.j&&(a.j.scrollTop=a.j.scrollHeight-a.j.offsetHeight,a.g.value="")}function Nb(a){const b=a.match(/^\s*(var|let|const)\s+(\w[\w_\d]*)(.*)/);return b?b[2]+b[3]:a}function Ob(){let a=window.location.href;const b=a.indexOf("?");-1<b&&(a=a.slice(0,b));return a}
function Pb(a){try{const b=window.localStorage;if(null!=b){const c=b.getItem(Ob());c&&(T(a,"//start of stored scripts"),c.split("\n").forEach(e=>a.eval(e)),T(a,"//end of stored scripts"))}}catch(b){T(a,"//cannot access localStorage due to: "+b)}}
class Qb{constructor(a,b){if(this.g=a)a.spellcheck=!1;if(this.j=b)b.spellcheck=!1;this.g&&J(this.g,"keydown",this.B,!1,this);this.g&&J(this.g,"change",this.C,!0,this);this.s=!1;this.l=[];this.h=-1;this.D=[];this.o=[];this.z={};this.A="myphysicslab goog length name terminal find setTimeout alert".split(" ");this.m=0;T(this,"myPhysicsLab version 2.0.0, advanced-compiled on 2022-02-24 15:54:25.")}toString(){return""}eval(a,b,c){b="boolean"===typeof b?b:!0;if((c=c||!1)&&!b)throw"";a=Ib(a).trim();if(!a.match(/^\s*$/)){this.m++;
1<this.m&&(b=!1);b?(this.l.unshift(a),this.h=-1):(this.o.push(this.i),this.i=void 0);try{{var e=a;const f=/^\w\s*\[\s*\d*\s*\]$/;var d=e.match(/\w\s*\[[^\]]*?\]/g);if(null!=d)for(let g=0,h=d.length;g<h;g++)if(!f.test(d[g]))throw"prohibited usage of square brackets in script: "+e+" Only positive integer is allowed in brackets.  Try using Util.get(array, index) or Util.set(array, index, value).";}for(d=["",a];d=Lb(d[1]),d[0];){const f=d[0].trim();if(0!=f.length){{b&&T(this,"> "+f);if(f.match(/^\s*\/\/.*/))continue;
const g=Mb(this,f);console.log("JavaScript is disabled due to advanced compilation; try a simple-compiled version: "+g);T(this,"JavaScript is disabled due to advanced compilation; try a simple-compiled version");this.i=void 0}}}b&&void 0!==this.i&&";"!=a.slice(-1)&&T(this,String(this.i));b&&void 0!==this.u&&this.u()}catch(f){if(b?(this.i=void 0,T(this,f)):this.i=this.o.pop(),!c)throw this.m--,f;}this.m--;if(b)return Kb(this),this.i;a=this.i;this.i=this.o.pop();return a}}B(a){this.g&&this.j&&(a.metaKey&&
75==a.g?(this.j.value="",a.h()):38==a.g||40==a.g?(-1==this.h&&""!=this.g.value&&(this.l.unshift(this.g.value),this.h=0),38==a.g?this.h<this.l.length-1&&(this.h++,this.g.value=this.l[this.h]):40==a.g&&(0<this.h?(this.h--,this.g.value=this.l[this.h]):(this.h=-1,this.g.value="")),a.h()):13==a.g&&this.eval(this.g.value,!0,!0))}C(){this.g&&this.eval(this.g.value,!0,!0)}};class Rb{constructor(a,b){Aa(a,this);this.g=b}toString(){return""}v(){return""}j(a){this.g(a)}};class Sb{constructor(){this.g=[]}toString(){return""}v(){return""}A(a){this.g.includes(a)||this.g.push(a)}};function Tb(a){let b=!0,c=ta;for(let e=0,d=a.g.length;e<d;e++){if(100<c){b=!1;break}c=100}b||(ma(a.g,function(){return 0}),a.h=!0)}
function Ub(a,b,c){Tb(a);a.g.forEach(e=>{b.save();b.strokeStyle=e.l;b.fillStyle=e.l;b.font=e.s;b.textAlign="start";b.textBaseline="alphabetic";var d=e.h;var f=d.j(),g=d.m,h=d.g,n=d.l();var m=g-.06*(g-f);var l=f+.01*(g-f);switch(e.i){case "VALUE":var k=e.u;k<l?k=l:k>m&&(k=m);m=R(c,k);break;case "RIGHT":m=R(c,m);break;case "LEFT":m=R(c,l);break;default:m=R(c,M(d))}l=S(c,n);k=S(c,h);switch(e.m){case "VALUE":d=S(c,e.o);d<l+30?d=l+30:d>k-30&&(d=k-30);break;case "TOP":d=l+30;break;case "BOTTOM":d=k-30;
break;default:d=S(c,N(d))}b.beginPath();b.moveTo(R(c,f),d);b.lineTo(R(c,g),d);b.stroke();f=d;l=e.h;g=f-4;d=g+8;var q=l.j();l=l.m;k=Eb(e,l-q);for(var p=Math.ceil(q/k)*k;p<l;){q=R(c,p);b.beginPath();b.moveTo(q,g);b.lineTo(q,d);b.stroke();const w=p+k;if(w>p)p=p.toFixed(e.j),b.fillText(p,q-b.measureText(p).width/2,d+12);else{b.fillText("scale is too small",q,d+12);break}p=w}g=b.measureText("x").width;b.fillText("x",R(c,l)-g-5,f-8);b.beginPath();b.moveTo(m,S(c,h));b.lineTo(m,S(c,n));b.stroke();h=m;f=e.h;
n=h-4;m=n+8;d=f.g;f=f.l();g=Eb(e,f-d);for(k=Math.ceil(d/g)*g;k<f;){d=S(c,k);b.beginPath();b.moveTo(n,d);b.lineTo(m,d);b.stroke();l=k+g;if(l>k)k=k.toFixed(e.j),q=b.measureText(k).width,"RIGHT"===e.i?b.fillText(k,m-(q+10),d+6):b.fillText(k,m+5,d+6);else{b.fillText("scale is too small",m,d);break}k=l}n=b.measureText("y").width;"RIGHT"===e.i?b.fillText("y",h-(n+6),S(c,f)+13):b.fillText("y",h+6,S(c,f)+13);b.restore()})}
class Vb extends Da{constructor(){super("DISPLAY_LIST_"+Wb++);this.g=[];this.h=!0}toString(){return""}v(){return""}add(a){if(!t(a))throw"non-object passed to DisplayList.add";Tb(this);let b=this.g.length,c;for(c=0;c<b;c++);ia(this.g,c,0,a);this.h=!0;F(this,new B(this,"OBJECT_ADDED",a))}get(a){const b=this.g.length;if(0>a||a>=b)throw a+" is not in range 0 to "+(b-1);Tb(this);return this.g[a]}length(){return this.g.length}}var Wb=1;function Xb(a,b){if(0<a.h()&&0<a.i()){const c=new xb(a.h(),a.i());Yb(b,c)}a.j.push(b);a.A(b);a.o=!0;F(a,new B(a,"VIEW_ADDED",b));F(a,new B(a,"VIEW_LIST_MODIFIED"));if(null==a.m){if(null!=b&&!a.j.includes(b))throw"cannot set focus to unknown view "+b;a.m!=b&&(a.m=b,a.o=!0,F(a,new B(a,"FOCUS_VIEW_CHANGED",b)))}}
function Zb(a){let b=!1;for(let f=0,g=a.j.length;f<g;f++){var c=a.j[f];{var e=c.H;let h=!1;for(let n=0,m=e.g.length;n<m;n++){var d=e.g[n];d.g?(d.g=!1,d=!0):d=!1;h=h||d}h||e.h?(e.h=!1,e=!0):e=!1}e||c.u?(c.u=!1,c=!0):c=!1;b=b||c}return b||a.o?(a.o=!1,!0):!1}function $b(a){const b=new xb(a.g.width,a.g.height);a.j.forEach(c=>Yb(c,b));a.o=!0;F(a,new B(a,"SIZE_CHANGED"))}
function ac(a){if(null!=a.g.offsetParent){0<a.l&&a.l--;const b=Zb(a);if(b||0<a.l){const c=a.g.getContext("2d");c.save();try{""!=a.u?(c.globalAlpha=a.s,c.fillStyle=a.u,c.fillRect(0,0,a.g.width,a.g.height),c.globalAlpha=1,1==a.s?a.l=0:b&&(a.l=Math.floor(10/a.s))):c.clearRect(0,0,a.g.width,a.g.height),a.j.forEach(e=>{c.save();c.globalAlpha=e.ca;Ub(e.H,c,e.s);c.restore()})}finally{c.restore()}}}}function bc(a){a.g.width=500;a.g.height=500;$b(a);G(a,U.G);G(a,U.F)}
class cc extends Da{constructor(){var a=document.createElement("canvas");super("canvas1");this.g=a;a.contentEditable=!1;this.j=[];this.B=new Sb;this.m=null;this.s=1;this.u="";this.o=!0;this.l=0;D(this,new C(this,U.G,dc.G,()=>this.h()));D(this,new C(this,U.F,dc.F,()=>this.i()));D(this,new C(this,U.ALPHA,dc.ALPHA,()=>this.s));D(this,new ya(this,U.L,dc.L,()=>this.u))}toString(){return""}A(a){this.B.A(a)}i(){return this.g.height}h(){return this.g.width}}
var U={G:"width",F:"height",ALPHA:"alpha",L:"background"},dc=U;dc=U;function ec(a){if(null!=a.j){var b=ra?.001*performance.now():.001*Date.now();0<=b-(a.i-a.h)&&(a.j(),a.i=b,a.h=0);a.g=a.m?setTimeout(a.o,17):requestAnimationFrame(a.o)}}function fc(a,b){a.l=!1;void 0!==a.g&&(a.m?clearTimeout(a.g):cancelAnimationFrame(a.g),a.g=void 0);a.i=NaN;a.h=0;a.j=b}function gc(a){a.l||(a.l=!0,a.h=0,a.i=(ra?.001*performance.now():.001*Date.now())-1E-7,ec(a))}
class hc{constructor(){this.m="function"!==typeof requestAnimationFrame;this.g=void 0;this.j=null;this.o=()=>ec(this);this.l=!1;this.i=sa;this.h=0}toString(){return""}};function Yb(a,b){if(!(b instanceof xb))throw"not a ScreenRect: "+b;if(b.A())throw"empty screenrect";a.C.u(b)||(a.C=b,ic(a),F(a,new B(a,"SCREEN_RECT_CHANGED")))}function jc(a,b){A(a.g,b)&&(a.g=b,a.B&&(a.l=a.g/a.K),kc(a))}function lc(a,b){if(!(b instanceof O))throw"not a DoubleRect: "+b;b.u(a.j)||(a.j=b,ic(a),G(a,V.G),G(a,V.F),G(a,V.M),G(a,V.N),F(a,new B(a,"SIM_RECT_CHANGED")))}function kc(a){var b=a.m-a.l/2;const c=a.o-a.g/2;b=new O(b,c,b+a.l,c+a.g);a.u=!0;lc(a,b)}
function ic(a){var b=zb(a.C,a.j);if(!(b instanceof Ab))throw"not a CoordMap: "+b;a.s=b;a.u=!0;F(a,new B(a,"COORD_MAP_CHANGED"));a.l=a.j.h();a.g=a.j.i();a.m=M(a.j);a.o=N(a.j);a.K=a.g/a.l;a.u=!0}
class mc extends Da{constructor(a){super("simView");if(!(a instanceof O)||a.A())throw"bad simRect: "+a;this.j=a;this.C=new xb(800,600);this.H=new Vb;this.B=!0;this.ca=1;this.s=zb(this.C,this.j);this.l=a.h();this.g=a.i();this.m=M(a);this.o=N(a);this.K=this.g/this.l;this.u=!0;this.ba=new Sb;D(this,new C(this,V.G,W.G,()=>this.h()));D(this,new C(this,V.F,W.F,()=>this.i()));D(this,xa(new C(this,V.M,W.M,()=>this.m)));D(this,xa(new C(this,V.N,W.N,()=>this.o)));D(this,new wa(this,V.S,W.S,()=>this.B,b=>{if(this.B!=
b){if(this.B=b)this.K=this.g/this.l;this.u=!0;G(this,V.S)}}));D(this,new ya(this,V.Z,W.Z,()=>"MIDDLE",[Q.fa,Q.P,Q.aa,Q.O,Q.T],["TOP","MIDDLE","BOTTOM","FULL","VALUE"]));D(this,new ya(this,V.X,W.X,()=>"MIDDLE",[P.da,P.P,P.ea,P.O,P.T],["LEFT","MIDDLE","RIGHT","FULL","VALUE"]));D(this,new C(this,V.W,W.W,()=>1))}toString(){return""}v(){return""}A(a){this.ba.A(a)}i(){return this.g}h(){return this.l}}
var V={S:"scale X-Y together",G:"width",F:"height",M:"center-x",N:"center-y",Z:"vertical-align",X:"horizontal-align",W:"aspect-ratio"},W=V;W=V;function nc(a){const b=new Hb(a.j);Fb(b);Gb(b);new Rb(a,c=>{if(c.j("COORD_MAP_CHANGED")){c=a.s;var e=a.C;c=new O(Bb(c,e.j()),Cb(c,e.l()+e.i()),Bb(c,e.j()+e.h()),Cb(c,e.l()));b.h=c;b.g=!0}});a.H.add(b)}
function oc(a,b){var c=qa+"/",e=document.createElement("div");e.style.width="96px";var d=u(c+"up_gray.png");d=new K("up",()=>{var h=a.o+.05*a.g;A(a.o,h)&&(a.o=h,kc(a))},d);d.h=100;e.appendChild(d.g());const f=document.createElement("div");f.style.width=e.style.width;d=u(c+"backward_gray.png");d=new K("left",()=>{var h=a.m-.05*a.l;A(a.m,h)&&(a.m=h,kc(a))},d);d.h=100;f.appendChild(d.g());d=u(c+"target_gray.png");d=new K("reset",b,d);f.appendChild(d.g());d=u(c+"forward_gray.png");d=new K("right",()=>
{var h=a.m+.05*a.l;A(a.m,h)&&(a.m=h,kc(a))},d);d.h=100;f.appendChild(d.g());const g=document.createElement("div");d=u(c+"down_gray.png");d=new K("down",()=>{var h=a.o-.05*a.g;A(a.o,h)&&(a.o=h,kc(a))},d);d.h=100;g.appendChild(d.g());g.style.width=e.style.width;b=document.createElement("div");b.appendChild(e);b.appendChild(f);b.appendChild(g);b.style.textAlign="center";e=document.createElement("div");d=u(c+"plus_gray.png");d=new K("zoomIn",()=>{jc(a,a.g/1.1)},d);d.h=100;e.appendChild(d.g());e.appendChild(document.createElement("BR"));
d=u(c+"minus_gray.png");d=new K("zoomOut",()=>{jc(a,1.1*a.g)},d);d.h=100;e.appendChild(d.g());e.style.cssFloat="right";e.style.marginTop="18px";c=document.createElement("div");c.style.position="absolute";c.style.right="10%";c.style.top="12%";c.style.width="126px";c.appendChild(e);c.appendChild(b);c.style.display="none";return c}function pc(a,b){const c=new wa(b,qc.R,rc.R,()=>"none"!=a.style.display,e=>{a.style.display=e?"block":"none";G(b,qc.R)});D(b,c);return c}
var qc={R:"pan-zoom",L:"background",ma:"white",ja:"black",oa:"white with trails",la:"black with trails",na:"white with long trails",ka:"black with long trails"},rc=qc;rc=qc;function sc(a,b){b=sb(a.j,b);var c=Db(a.h,a.i.add(b)),e=a.g.j;{b=e.h();e=e.i();const d=c.g;c=c.h;b=new O(d-b/2,c-e/2,d+b/2,c+e/2)}lc(a.g,b)}class tc{constructor(a,b){this.g=a;var c=this.h=a.s;a=a.j;a=new L(M(a),N(a));this.i=new L(R(c,a.g),S(c,a.h));this.j=b}};function uc(a,b,c,e){if(b.target==a.g.g)if(a.g.g.focus(),a.i=!0,c=vc(a,c,e),a.m&&a.C==b.ctrlKey&&a.D==b.metaKey&&a.H==b.shiftKey&&a.B==b.altKey)b=a.g.m,null!=b&&(a.j=new tc(b,c),sc(a.j,c));else{{e=a.g;const f=Array.from(e.j);for(let g=f.length-1;0<=g;g--){var d=f[g];Db(d.s,c);d=d.H;Tb(d);d=Array.from(d.g);for(d=d.length-1;0<=d;d--);}e=e.m;null!=e&&Db(e.s,c)}a.h=null;null!=a.h&&(a=a.h,a.l=null!=a.g?a.g.i(a.j,a.h,a.i,a.o,b):!1)}}
function vc(a,b,c){const e=a.g.g,d=e.getBoundingClientRect();b=new L(b-d.left,c-d.top);a=e.offsetWidth/a.g.h();if(1===a)a=b;else{if(1E-10>a)throw"Vector.divide by near zero factor "+(null!=a?a.toExponential(7):null===a?"null":"undefined");a=new L(b.g/a,b.h/a,b.i/a)}return a}
function wc(a,b,c,e){const d=a.g.g;null!=d.offsetParent&&(c=vc(a,c,e),(b.target==d||b.target==document.body)&&a.i&&b.h(),null!=a.j?sc(a.j,c):null!=a.h&&(a=a.h,a.h=Db(a.s.s,c),null==a.m||null!=a.j&&a.l?null!=a.g&&a.l&&a.g.h(a.j,a.h,a.i,b):sb(a.h,a.i)))}function xc(a){if(null==a.j&&null!=a.h){var b=a.h;null!=b.g&&b.g.g(b.j,b.h,b.i)}a.h=null;a.j=null;a.i=!1}
class yc{constructor(a){var b={alt:!1,control:!1,ha:!1,shift:!1};this.g=a;this.m=null!=b;this.C=null!=b?1==b.control:!1;this.D=null!=b?1==b.ha:!1;this.H=null!=b?1==b.shift:!1;this.B=null!=b?1==b.alt:!0;this.i=!1;this.j=this.h=null;J(a.g,"mousedown",this.u,!1,this);J(document,"mousemove",this.A,!1,this);J(document,"mouseup",this.l,!1,this);J(document,"keydown",this.o,!1,this);J(document,"keyup",this.s,!1,this);J(document,"touchstart",this.K,!1,this);J(document,"touchmove",this.J,!1,this);J(document,
"touchend",this.I,!1,this)}toString(){return""}v(){return""}u(a){uc(this,a,a.clientX,a.clientY)}A(a){wc(this,a,a.clientX,a.clientY)}l(a){const b=this.g.g;null!=b.offsetParent&&((a.target==b||a.target==document.body)&&this.i&&a.h(),xc(this))}o(){}s(){}K(a){if(a.target==this.g.g){var b=a.i;null!=b&&((b=b.touches)&&1==b.length?uc(this,a,b[0].clientX,b[0].clientY):xc(this))}}J(a){var b=a.i;b=null!=b?b.touches:[];this.i&&b&&1==b.length?wc(this,a,b[0].clientX,b[0].clientY):xc(this)}I(a){this.i&&this.l(a)}}
;function zc(a,b){a=document.getElementById(a[b]);if(!t(a))throw"elementId not found: "+b;return a}
class X extends Da{constructor(a){na();super("APP");pa(a.images_dir);var b=zc(a,"sim_canvas");b.style.position="relative";this.g=new cc;bc(this.g);b.appendChild(this.g.g);this.o=zc(a,"sim_controls");var c=zc(a,"term_output");a=zc(a,"term_input");this.i=new Qb(a,c);this.l=new O(-6,-6,6,6);this.h=new mc(this.l);Xb(this.g,this.h);nc(this.h);ac(this.g);new yc(this.g);c=oc(this.h,()=>lc(this.h,this.l));b.appendChild(c);this.j=pc(c,this);va(this.j,!0);b=(new qb(this.j)).g();b.style.display="block";this.o.appendChild(b);
this.m=new hc;fc(this.m,()=>ac(this.g));gc(this.m)}ga(){}eval(a,b){try{return this.i.eval(a,b)}catch(c){a=this.i,b=c,a.s?console.log(b):(a.s=!0,alert(b))}}ia(){var a=this.i;{var b=window.location.href;const c=b.indexOf("?");-1<c?(b=b.slice(c+1),b=decodeURIComponent(b),a.eval(b),b=!0):b=!1}b||Pb(a)}start(){}}X.prototype.start=X.prototype.start;X.prototype.setup=X.prototype.ia;X.prototype.eval=X.prototype.eval;X.prototype.defineNames=X.prototype.ga;function Ac(a){return new X(a)}
var Bc=["makeBlankSlateApp"],Y=r;Bc[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+Bc[0]);for(var Z;Bc.length&&(Z=Bc.shift());)Bc.length||void 0===Ac?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Ac;}).call(window)
