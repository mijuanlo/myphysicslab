(/*Copyright_2020_Erik_Neumann_All_Rights_Reserved_www.myphysicslab.com*/function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var k=this||self;function l(){}function n(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function aa(a,b){function c(){}c.prototype=b.prototype;a.I=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.M=function(e,d,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[d].apply(e,g)}};const ba=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(let c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ca=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){const c=a.length,e="string"===typeof a?a.split(""):a;for(let d=0;d<c;d++)d in e&&b.call(void 0,e[d],d,a)},da=Array.prototype.reduce?function(a,b,c){return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c){let e=c;ca(a,function(d,f){e=b.call(void 0,e,d,f,a)});return e};function ea(a,b){a:{const c=a.length,e="string"===typeof a?a.split(""):a;for(let d=0;d<c;d++)if(d in e&&b.call(void 0,e[d],d,a)){b=d;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function p(a,b){b=ba(a,b);let c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c};function q(a,b){this.type=a;this.target=b}q.prototype.h=function(){};var fa=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{k.addEventListener("test",l,b),k.removeEventListener("test",l,b)}catch(c){}return a}();function r(){var a=k.navigator;return a&&(a=a.userAgent)?a:""};function t(a){t[" "](a);return a}t[" "]=l;var ha=-1!=r().indexOf("Gecko")&&!(-1!=r().toLowerCase().indexOf("webkit")&&-1==r().indexOf("Edge"))&&!(-1!=r().indexOf("Trident")||-1!=r().indexOf("MSIE"))&&-1==r().indexOf("Edge");function u(a){q.call(this,a?a.type:"");this.relatedTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.g=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.i=null;if(a){var b=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;var e=a.relatedTarget;if(e){if(ha){a:{try{t(e.nodeName);var d=!0;break a}catch(f){}d=!1}d||(e=null)}}else"mouseover"==
b?e=a.fromElement:"mouseout"==b&&(e=a.toElement);this.relatedTarget=e;c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.g=a.keyCode||0;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:ia[a.pointerType]||"";this.i=a;a.defaultPrevented&&u.I.h.call(this)}}aa(u,q);var ia={2:"touch",3:"pen",4:"mouse"};u.prototype.h=function(){u.I.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var v="closure_listenable_"+(1E6*Math.random()|0);var ja=0;function ka(a,b,c,e,d){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!e;this.h=d;this.key=++ja;this.g=this.C=!1}function w(a){a.g=!0;a.listener=null;a.proxy=null;a.src=null;a.h=null};function x(a){this.src=a;this.g={};this.h=0}x.prototype.add=function(a,b,c,e,d){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.h++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.g&&h.listener==b&&h.capture==!!e&&h.h==d)break a}g=-1}-1<g?(b=a[g],c||(b.C=!1)):(b=new ka(b,this.src,f,!!e,d),b.C=c,a.push(b));return b};var y="closure_lm_"+(1E6*Math.random()|0),z={},A=0;function B(a,b,c,e,d){if(e&&e.once)C(a,b,c,e,d);else if(Array.isArray(b))for(var f=0;f<b.length;f++)B(a,b[f],c,e,d);else c=D(c),a&&a[v]?a.g(b,c,n(e)?!!e.capture:!!e,d):E(a,b,c,!1,e,d)}
function E(a,b,c,e,d,f){if(!b)throw Error("Invalid event type");var g=n(d)?!!d.capture:!!d,h=F(a);h||(a[y]=h=new x(a));c=h.add(b,c,e,g,f);if(!c.proxy){e=la();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)fa||(d=g),void 0===d&&(d=!1),a.addEventListener(b.toString(),e,d);else if(a.attachEvent)a.attachEvent(G(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");A++}}
function la(){function a(c){return b.call(a.src,a.listener,c)}const b=ma;return a}function C(a,b,c,e,d){if(Array.isArray(b))for(var f=0;f<b.length;f++)C(a,b[f],c,e,d);else c=D(c),a&&a[v]?a.h(b,c,n(e)?!!e.capture:!!e,d):E(a,b,c,!0,e,d)}function G(a){return a in z?z[a]:z[a]="on"+a}
function ma(a,b){if(a.g)a=!0;else{b=new u(b,this);var c=a.listener,e=a.h||a.src;if(a.C&&"number"!==typeof a&&a&&!a.g){var d=a.src;if(d&&d[v])d.i(a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(G(f),g):d.addListener&&d.removeListener&&d.removeListener(g);A--;(f=F(d))?(g=a.type,g in f.g&&p(f.g[g],a)&&(w(a),0==f.g[g].length&&(delete f.g[g],f.h--)),0==f.h&&(f.src=null,d[y]=null)):w(a)}}a=c.call(e,b)}return a}
function F(a){a=a[y];return a instanceof x?a:null}var H="__closure_events_fn_"+(1E9*Math.random()>>>0);function D(a){if("function"===typeof a)return a;a[H]||(a[H]=function(b){return a.handleEvent(b)});return a[H]};function I(a,b){a=a[b];if("string"!==typeof a)throw"unknown elementId: "+b;b=document.getElementById(a);if(!n(b))throw"not found: element with id="+a;return b}function J(a,b){a=a[b];if("string"!==typeof a)throw"unknown elementId: "+b;return document.getElementById(a)}function na(){window.onerror=function(a,b,c){3>oa++&&alert(a+"\n"+b+":"+c)}}function K(a){if(isNaN(a))throw"not a number "+a;return a}function L(a){return a.toUpperCase().replace(/[ -]/g,"_")}
function P(a){if(!a.match(/^[A-Z_][A-Z_0-9]*$/))throw"not a valid name: "+a;return a}var pa=Number.NaN,oa=0;function qa(a){return a.replace(/\\(x|u00)([0-9a-fA-F]{2})/g,function(b,c,e){return String.fromCharCode(Number("0x"+e))})}
function ra(a,b){for(let e in window){a:{for(let d=0,f=b.length;d<f;d++)if(e==b[d]){var c=!1;break a}c=(new RegExp("\\b"+e+"\\b","g")).test(a)}if(c)throw'prohibited name: "'+e+'" found in script: '+a;}if(/\b(myEval|Function|with|__proto__|call|apply|caller|callee|arguments|addAllowList|vetCommand|badCommand|allowList_|addRegex|addRegex2|regexs_|afterEvalFn_|setAfterEval|parentNode|parentElement|innerHTML|outerHTML|offsetParent|insertAdjacentHTML|appendChild|insertBefore|replaceChild|removeChild|ownerDocument|insertBefore|setParser|defineNames|globalEval|window|defineProperty|defineProperties|__defineGetter__|__defineSetter__)\b/g.test(a))throw"prohibited name in script: "+a;
}function Q(a,b){a.j&&(a.j.value+=b+"\n",R(a))}function sa(a){let b=0,c="",e,d,f="",g=!1,h=!1,M=!1,N="",m,O;m=0;for(O=a.length;m<O;m++)if(e=f," "!=f&&"\t"!=f&&"\n"!=f&&(c=f),f=a[m],d=m+1<O?a[m+1]:"\x00",g){if("\n"==f&&(g=!1,0==b))break}else if(h)"/"==f&&"\\"!=e&&(h=!1);else if(M)f==N&&"\\"!=e&&(M=!1,N="");else if("/"==f)"/"==d?g=!0:"*"==d||!c||"="!=c&&"("!=c||(h=!0);else if('"'==f||"'"==f)M=!0,N=f;else if(";"==f&&0==b)break;else"{"==f?b++:"}"==f&&b--;return[a.slice(0,m+1),a.slice(m+1)]}
function ta(a,b){b=ua(b);let c="",e=0;for(;b;){if(1E4<++e)throw"Terminal.expand";var d=b.match(/^[^'"/]+/);if(null!==d&&(d=d[0],b=b.slice(d.length),d=da(a.B,function(f,g){return f.replace(g.N,g.replace)},d),ra(d,a.D),c+=d,0==b.length))break;if(c.match(/.*[=(][ ]*$/)&&(d=b.match(/^\/[^*/](\\\/|[^\\/])*\//),null!==d)){d=d[0];b=b.slice(d.length);c+=d;continue}0<b.length&&"/"==b[0]?(c+="/",b=b.slice(1)):(d=b.match(/^"(\\.|[^\\"])*"/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&'"'==b[0]?(c+=
'"',b=b.slice(1)):(d=b.match(/^'(\\.|[^\\'])*'/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&"'"==b[0]&&(c+="'",b=b.slice(1))))}return c}function R(a){a.g&&a.j&&(a.j.scrollTop=a.j.scrollHeight-a.j.offsetHeight,a.g.value="")}function ua(a){const b=a.match(/^\s*(var|let|const)\s+(\w[\w_\d]*)(.*)/);return b?b[2]+b[3]:a}
class va{constructor(a,b){if(this.g=a)a.spellcheck=!1;if(this.j=b)b.spellcheck=!1;this.g&&B(this.g,"keydown",this.v,!1,this);this.g&&B(this.g,"change",this.A,!0,this);this.s=!1;this.l=[];this.h=-1;this.B=[];this.o=[];this.z={};this.D="myphysicslab goog length name terminal find setTimeout alert".split(" ");this.m=0;Q(this,"myPhysicsLab version 2.0.0, advanced-compiled on 2022-03-23 22:45:33.")}toString(){return""}eval(a,b,c){b="boolean"===typeof b?b:!0;if((c=c||!1)&&!b)throw"";a=qa(a).trim();if(!a.match(/^\s*$/)){this.m++;
1<this.m&&(b=!1);b?(this.l.unshift(a),this.h=-1):(this.o.push(this.i),this.i=void 0);try{{var e=a;const f=/^\w\s*\[\s*\d*\s*\]$/;var d=e.match(/\w\s*\[[^\]]*?\]/g);if(null!=d)for(let g=0,h=d.length;g<h;g++)if(!f.test(d[g]))throw"prohibited usage of square brackets in script: "+e+" Only positive integer is allowed in brackets.  Try using Util.get(array, index) or Util.set(array, index, value).";}for(d=["",a];d=sa(d[1]),d[0];){const f=d[0].trim();if(0!=f.length){{b&&Q(this,"> "+f);if(f.match(/^\s*\/\/.*/))continue;
const g=ta(this,f);console.log("JavaScript is disabled due to advanced compilation; try a simple-compiled version: "+g);Q(this,"JavaScript is disabled due to advanced compilation; try a simple-compiled version");this.i=void 0}}}b&&void 0!==this.i&&";"!=a.slice(-1)&&Q(this,String(this.i));b&&void 0!==this.u&&this.u()}catch(f){if(b?(this.i=void 0,Q(this,f)):this.i=this.o.pop(),!c)throw this.m--,f;}this.m--;if(b)return R(this),this.i;a=this.i;this.i=this.o.pop();return a}}v(a){this.g&&this.j&&(a.metaKey&&
75==a.g?(this.j.value="",a.h()):38==a.g||40==a.g?(-1==this.h&&""!=this.g.value&&(this.l.unshift(this.g.value),this.h=0),38==a.g?this.h<this.l.length-1&&(this.h++,this.g.value=this.l[this.h]):40==a.g&&(0<this.h?(this.h--,this.g.value=this.l[this.h]):(this.h=-1,this.g.value="")),a.h()):13==a.g&&this.eval(this.g.value,!0,!0))}A(){this.g&&this.eval(this.g.value,!0,!0)}};class wa{constructor(){this.h=P(L("SIZE_CHANGED"))}toString(){return this.i()}i(){return""}g(){return this.h}};class S{constructor(a){this.h=P(L(a))}toString(){return""}i(){return""}g(){return this.h}};class xa{constructor(){this.h=P(L(T.J))}toString(){return""}i(){return""}g(){return this.h}};function ya(a){if(!a.l){for(let b=0,c=a.j.length;b<c;b++){const e=a.j[b];e.action?a.h.includes(e.H)||a.h.push(e.H):p(a.h,e.H)}a.j=[]}}function za(a,b){b=L(b);return ea(a.s,c=>c.g()==b)}function U(a,b){const c=b.g(),e=za(a,c);if(null!=e)throw"parameter "+c+" already exists: "+e;a.s.push(b)}function Aa(a,b){a.l=!0;try{a.h.forEach(c=>c.g(b))}finally{a.l=!1,ya(a)}}function Ba(a,b){const c=za(a,b);if(null==c)throw"unknown Parameter "+b;Aa(a,c)}
class Ca{constructor(a){if(!a)throw"no name";P(L(a));this.h=[];this.s=[];this.l=!1;this.j=[]}toString(){return""}i(){return""}};class V{constructor(a,b,c){c="number"===typeof c?c:0;this.g=K(a);this.h=K(b);this.i=K(c);this.j=this.l=pa}toString(){return""}add(a){return new V(this.g+a.g,this.h+a.h,this.i+a.i)}length(){if(isNaN(this.l)){var a=Math,b=a.sqrt;isNaN(this.j)&&(this.j=0===this.i?this.g*this.g+this.h*this.h:this.g*this.g+this.h*this.h+this.i*this.i);this.l=b.call(a,this.j)}return this.l}}new V(1,0);new V(0,1);new V(0,0);new V(0,-1);new V(-1,0);class Da{constructor(){K(0);K(0);K(0);K(0)}toString(){return""}}new Da;class Ea{constructor(a,b){if("number"!==typeof a||"number"!==typeof b)throw"";if(0>a||0>b)throw"";}toString(){return""}}new Ea(0,0);function Fa(a){const b=new Ea(a.g.width,a.g.height);a.m.forEach(c=>c.g(b));Aa(a,new wa)}function Ga(a){a.g.width=480;a.g.height=480;Fa(a);Ba(a,T.G);Ba(a,T.F)}class Ha extends Ca{constructor(a,b){super(b);this.g=a;a.contentEditable=!1;this.m=[];U(this,new S(T.G));U(this,new S(T.F));U(this,new S(T.ALPHA));U(this,new xa)}toString(){return""}}var T={G:"width",F:"height",ALPHA:"alpha",J:"background"};class Ia extends Ca{constructor(a){super("VERTICAL_LAYOUT");if(void 0===a.images_dir)throw"images directory not found";var b=J(a,"term_output");const c=J(a,"term_input");this.v=new va(c,b);this.m=I(a,"sim_applet");this.m.style.position="relative";b=document.createElement("canvas");b.tabIndex=0;b.width=800;b.height=480;this.K=new Ha(b,"simCanvas");this.m.appendChild(this.K.g);this.g=I(a,"div_graph");b=document.createElement("canvas");b.style.g="left";b.style.margin="0px 15px 15px 0px";this.o=new Ha(b,
"graphCanvas");Ga(this.o);this.g.style.display="none";this.D=I(a,"graph_controls");this.g.insertBefore(this.o.g,this.D);const e=I(a,"show_graph");this.B=f=>{this.g.style.display=f?"block":"none";e.checked=f};B(e,"click",()=>this.B(e.checked));this.u=I(a,"sim_controls");const d=I(a,"show_controls");this.u.style.display="none";this.A=f=>{this.u.style.display=f?"block":"none";d.checked=f};B(d,"click",()=>this.A(d.checked));I(a,"form_terminal").style.display="none";I(a,"label_terminal").style.display=
"none";I(a,"show_hide_form")}toString(){return""}};class W{constructor(a){na();this.h=new Ia(a);this.g=this.h.v}L(){}eval(a,b){try{return this.g.eval(a,b)}catch(c){a=this.g,b=c,a.s?console.log(b):(a.s=!0,alert(b))}}}W.prototype.eval=W.prototype.eval;W.prototype.defineNames=W.prototype.L;function Ja(a){return new W(a)}var X=["makeTerminalSpringApp"],Y=k;X[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Ja?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Ja;}).call(window)
