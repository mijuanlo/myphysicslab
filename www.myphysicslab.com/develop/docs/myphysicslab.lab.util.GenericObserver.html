<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>myphysicslab.lab.util.GenericObserver</title><link href="dossier.css" rel="stylesheet" type="text/css"><script src="types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,[[[&quot;myphysicslab.lab.util.GenericObserver&quot;,null,null,null,[null,86,null,[null,null,&quot;source/src/lab/util/GenericObserver.js.src.html&quot;]],null,[[[null,&quot;&lt;p&gt;Observes a Subject; when the Subject broadcasts a SubjectEvent then this executes a\nspecified function.&lt;/p&gt;\n&lt;h2&gt;Example 1&lt;/h2&gt;\n&lt;p&gt;Here is an example of a GenericObserver that prints any event broadcast by a\n&lt;code&gt;myphysicslab.lab.util.Clock&lt;/code&gt;:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var obs &amp;#61; new GenericObserver(clock, function(evt) {\n  println(&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt);\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Paste that code into the Terminal command line of any &lt;a href=\&quot;https://www.myphysicslab.com/develop/build/index-en.html\&quot;&gt;simple-compiled application&lt;/a&gt;, or\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/sims/pendulum/PendulumApp-en.html?var%20obs&amp;#61;new%20GenericObserver%28clock,function%28evt%29{println%28&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt%29;}%29;layout.showTerminal%28true%29;\&quot;&gt;try this link&lt;/a&gt;\nwhich contains the above code running in the simple-compiled pendulum simulation. Click\nthe rewind, play, and step buttons to see events in the Terminal output area.&lt;/p&gt;\n&lt;p&gt;Use the following to turn off the GenericObserver:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;clock.removeObserver(obs);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Example 2&lt;/h2&gt;\n&lt;p&gt;This prints only when a particular Clock event occurs:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var obs &amp;#61; new GenericObserver(clock, function(evt) {\n    if (evt.nameEquals(Clock.CLOCK_PAUSE)) {\n      println(&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt);\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Paste that code into the Terminal command line of any &lt;a href=\&quot;https://www.myphysicslab.com/develop/build/index-en.html\&quot;&gt;simple-compiled application&lt;/a&gt;, or\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/sims/pendulum/PendulumApp-en.html?var%20obs&amp;#61;new%20GenericObserver%28clock,function%28evt%29{if%28evt.nameEquals%28Clock.CLOCK_PAUSE%29%29{println%28&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt%29;}}%29;layout.showTerminal%28true%29;\&quot;&gt;try this link&lt;/a&gt;\nwhich contains the above code running in the simple-compiled pendulum simulation. Click\nthe pause button to see events in the Terminal output area.&lt;/p&gt;\n&lt;h2&gt;Example 3&lt;/h2&gt;\n&lt;p&gt;This sets color of a contact force line according to gap distance: red &amp;#61; zero distance,\ngreen &amp;#61; max distance. This is useful to study the effects of using different settings\nfor &lt;code&gt;myphysicslab.lab.engine2D.ExtraAccel&lt;/code&gt;.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;new GenericObserver(displayList, function(evt) {\n  if (evt.nameEquals(DisplayList.OBJECT_ADDED)) {\n    var obj &amp;#61; evt.getValue();\n    if (obj instanceof DisplayLine) {\n      var f &amp;#61; obj.getSimObjects()[0];\n      if (f.getName().match(/^CONTACT_FORCE1/)) {\n        var pct &amp;#61; Math.max(0, Math.min(1, f.contactDistance/f.contactTolerance));\n        obj.setColor(Util.colorString3(1-pct, pct, 0));\n      }\n    }\n  }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The above script can be entered into the Terminal command line of most\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/index-en.html\&quot;&gt;simple-compiled applications&lt;/a&gt;\nwhich use  &lt;code&gt;myphysicslab.lab.engine2D.ContactSim&lt;/code&gt;, or\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/sims/engine2D/ContactApp-en.html?NUMBER_OF_OBJECTS&amp;#61;1;EXTRA_ACCEL&amp;#61;none;ELASTICITY&amp;#61;0.6;SIM_CANVAS.ALPHA&amp;#61;1;SIM_CANVAS.BACKGROUND&amp;#61;&amp;#34;&amp;#34;;new%20GenericObserver%28displayList,function%28evt%29{if%28evt.nameEquals%28DisplayList.OBJECT_ADDED%29%29{var%20obj&amp;#61;evt.getValue%28%29;if%28obj%20instanceof%20DisplayLine%29{var%20f&amp;#61;obj.getSimObjects%28%29[0];if%28f.getName%28%29.match%28/^CONTACT_FORCE1/%29%29{var%20pct&amp;#61;Math.max%280,Math.min%281,f.contactDistance/f.contactTolerance%29%29;obj.setColor%28Util.colorString3%281-pct,pct,0%29%29;}}}}%29;\&quot;&gt;try this link&lt;/a&gt;\nwhich contains the above code running in simple-compiled ContactApp. That link also\nsets &lt;code&gt;EXTRA_ACCEL&amp;#61;none&lt;/code&gt; so you will see the gap distance color vary periodically.&lt;/p&gt;\n&quot;]]],[null,null,null,null,null,1],null,[],null,[],[],[[&quot;GenericObserver&quot;,[null,86,null,[null,null,&quot;source/src/lab/util/GenericObserver.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Observes a Subject; when the Subject broadcasts a SubjectEvent then this executes a\nspecified function.&lt;/p&gt;\n&lt;h2&gt;Example 1&lt;/h2&gt;\n&lt;p&gt;Here is an example of a GenericObserver that prints any event broadcast by a\n&lt;code&gt;myphysicslab.lab.util.Clock&lt;/code&gt;:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var obs &amp;#61; new GenericObserver(clock, function(evt) {\n  println(&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt);\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Paste that code into the Terminal command line of any &lt;a href=\&quot;https://www.myphysicslab.com/develop/build/index-en.html\&quot;&gt;simple-compiled application&lt;/a&gt;, or\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/sims/pendulum/PendulumApp-en.html?var%20obs&amp;#61;new%20GenericObserver%28clock,function%28evt%29{println%28&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt%29;}%29;layout.showTerminal%28true%29;\&quot;&gt;try this link&lt;/a&gt;\nwhich contains the above code running in the simple-compiled pendulum simulation. Click\nthe rewind, play, and step buttons to see events in the Terminal output area.&lt;/p&gt;\n&lt;p&gt;Use the following to turn off the GenericObserver:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;clock.removeObserver(obs);\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Example 2&lt;/h2&gt;\n&lt;p&gt;This prints only when a particular Clock event occurs:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;var obs &amp;#61; new GenericObserver(clock, function(evt) {\n    if (evt.nameEquals(Clock.CLOCK_PAUSE)) {\n      println(&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt);\n    }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;Paste that code into the Terminal command line of any &lt;a href=\&quot;https://www.myphysicslab.com/develop/build/index-en.html\&quot;&gt;simple-compiled application&lt;/a&gt;, or\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/sims/pendulum/PendulumApp-en.html?var%20obs&amp;#61;new%20GenericObserver%28clock,function%28evt%29{if%28evt.nameEquals%28Clock.CLOCK_PAUSE%29%29{println%28&amp;#39;event&amp;#61;&amp;#39;&amp;#43;evt%29;}}%29;layout.showTerminal%28true%29;\&quot;&gt;try this link&lt;/a&gt;\nwhich contains the above code running in the simple-compiled pendulum simulation. Click\nthe pause button to see events in the Terminal output area.&lt;/p&gt;\n&lt;h2&gt;Example 3&lt;/h2&gt;\n&lt;p&gt;This sets color of a contact force line according to gap distance: red &amp;#61; zero distance,\ngreen &amp;#61; max distance. This is useful to study the effects of using different settings\nfor &lt;code&gt;myphysicslab.lab.engine2D.ExtraAccel&lt;/code&gt;.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;new GenericObserver(displayList, function(evt) {\n  if (evt.nameEquals(DisplayList.OBJECT_ADDED)) {\n    var obj &amp;#61; evt.getValue();\n    if (obj instanceof DisplayLine) {\n      var f &amp;#61; obj.getSimObjects()[0];\n      if (f.getName().match(/^CONTACT_FORCE1/)) {\n        var pct &amp;#61; Math.max(0, Math.min(1, f.contactDistance/f.contactTolerance));\n        obj.setColor(Util.colorString3(1-pct, pct, 0));\n      }\n    }\n  }\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;The above script can be entered into the Terminal command line of most\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/index-en.html\&quot;&gt;simple-compiled applications&lt;/a&gt;\nwhich use  &lt;code&gt;myphysicslab.lab.engine2D.ContactSim&lt;/code&gt;, or\n&lt;a href=\&quot;https://www.myphysicslab.com/develop/build/sims/engine2D/ContactApp-en.html?NUMBER_OF_OBJECTS&amp;#61;1;EXTRA_ACCEL&amp;#61;none;ELASTICITY&amp;#61;0.6;SIM_CANVAS.ALPHA&amp;#61;1;SIM_CANVAS.BACKGROUND&amp;#61;&amp;#34;&amp;#34;;new%20GenericObserver%28displayList,function%28evt%29{if%28evt.nameEquals%28DisplayList.OBJECT_ADDED%29%29{var%20obj&amp;#61;evt.getValue%28%29;if%28obj%20instanceof%20DisplayLine%29{var%20f&amp;#61;obj.getSimObjects%28%29[0];if%28f.getName%28%29.match%28/^CONTACT_FORCE1/%29%29{var%20pct&amp;#61;Math.max%280,Math.min%281,f.contactDistance/f.contactTolerance%29%29;obj.setColor%28Util.colorString3%281-pct,pct,0%29%29;}}}}%29;\&quot;&gt;try this link&lt;/a&gt;\nwhich contains the above code running in simple-compiled ContactApp. That link also\nsets &lt;code&gt;EXTRA_ACCEL&amp;#61;none&lt;/code&gt; so you will see the gap distance color vary periodically.&lt;/p&gt;\n&quot;]]],null,null,[null,null,null,null,null,1],null,null,[],[]],[],1,[[&quot;subject&quot;,[null,null,null,[&quot;myphysicslab.lab.util.Subject&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Subject.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;the Subject to observe&lt;/p&gt;\n&quot;]]]],[&quot;observeFn&quot;,[null,null,[null,null,[[null,null,null,[&quot;myphysicslab.lab.util.SubjectEvent&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.SubjectEvent.html&quot;]],null,[]]]],[null,null,null,null,null,null,null,1]]],[[[null,&quot;&lt;p&gt;function to execute when a SubjectEvent is\nbroadcast by Subject&lt;/p&gt;\n&quot;]]]],[&quot;opt_purpose&quot;,[1,null,null,null,null,[[[null,null,null,[&quot;string&quot;,null,null,1,[]]],[null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;Describes what this Observer does, for debugging&lt;/p&gt;\n&quot;]]]]],null,[]],[[[&quot;disconnect&quot;,[null,131,null,[null,null,&quot;source/src/lab/util/GenericObserver.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Disconnects this GenericObserver from the Subject.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],null,[]],[[&quot;observe&quot;,[null,136,null,[null,null,&quot;source/src/lab/util/GenericObserver.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Notifies this Observer that a change has occurred in the Subject.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Observer&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Observer.html#observe&quot;]],null,[]]],[]],[],null,[[&quot;event&quot;,[null,null,null,[&quot;myphysicslab.lab.util.SubjectEvent&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.SubjectEvent.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;contains information about\nwhat has changed in the Subject: typically either a one-time GenericEvent,\nor a change to the value of a Parameter&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;toString&quot;,[null,116,null,[null,null,&quot;source/src/lab/util/GenericObserver.js.src.html&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;string&quot;,null,null,1,[]]]],[]],[[&quot;toStringShort&quot;,[null,121,null,[null,null,&quot;source/src/lab/util/GenericObserver.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns a minimal string representation of this object, usually giving just identity\ninformation like the class name and name of the object.&lt;/p&gt;\n&lt;p&gt;For an object whose main purpose is to represent another Printable object, it is\nrecommended to include the result of calling &lt;code&gt;toStringShort&lt;/code&gt; on that other object. For\nexample, calling &lt;code&gt;toStringShort()&lt;/code&gt; on a DisplayShape might return something like\nthis:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;DisplayShape{polygon:Polygon{&amp;#39;chain3&amp;#39;}}\n&lt;/code&gt;&lt;/pre&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Printable&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Printable.html#toStringShort&quot;]],null,[]]],[]],[],null,[],[null,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;a minimal string representation of this object.&lt;/p&gt;\n&quot;]]]],[]]],[],null,[],[[&quot;myphysicslab.lab.util.Observer&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Observer.html&quot;]],null,[]],[&quot;myphysicslab.lab.util.Printable&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Printable.html&quot;]],null,[]]],[],[[&quot;myphysicslab.lab.util.GenericObserver&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.GenericObserver.html&quot;]],null,[]],null,1],null,&quot;myphysicslab.lab.util.GenericObserver.html&quot;,&quot;myphysicslab.lab.util.GenericObserver&quot;,[],[],[],[]]]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="dossier.js" defer></script>