<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>myphysicslab.lab.engine2D.Vertex</title><link href="dossier.css" rel="stylesheet" type="text/css"><script src="types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,[[[&quot;myphysicslab.lab.engine2D.Vertex&quot;,null,null,null,[null,69,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],null,[[[null,&quot;&lt;p&gt;A Vertex is a point on an Edge in a Polygon, in body coordinates of the Polygon. A\nVertex can be at the end-point of the Edge, or at a mid-point of the Edge. An end-point\nVertex is connected to two Edges which are called the &amp;#39;previous&amp;#39; and &amp;#39;next&amp;#39; Edges. A\nmid-point Vertex is connected to only a single Edge, which is considered to be both the\n&amp;#39;previous&amp;#39; and &amp;#39;next&amp;#39; Edge in that case.&lt;/p&gt;\n&lt;p&gt;See &lt;code&gt;myphysicslab.lab.engine2D.Polygon&lt;/code&gt;, and\n&lt;code&gt;myphysicslab.lab.engine2D.Edge&lt;/code&gt;.&lt;/p&gt;\n&lt;h2&gt;Decorated Mid-Point Vertexes&lt;/h2&gt;\n&lt;p&gt;See also the section on &lt;a href=\&quot;Engine2D.html#decoratedvertexes\&quot;&gt;Decorated Vertexes&lt;/a&gt; in the\n2D Physics Engine Overview.&lt;/p&gt;\n&lt;p&gt;We add &amp;#39;decorated mid-point Vertexes&amp;#39; along a curved edge to help with collision and\ncontact detection.&lt;/p&gt;\n&lt;img src=\&quot;Engine2D_Decorated_Vertexes.svg\&quot; /&gt;\n&lt;p&gt;In collision detection, we look at both the current and previous position of the bodies\nto guess how the bodies moved over the last time step. For a potential Vertex/Edge\ncollision, we assume the Vertex moved along the straight line between its previous and\ncurrent position, and look for the intersection of that line with the Edge.&lt;/p&gt;\n&lt;p&gt;For an Edge/Edge collision, when one of the Edges is curved, it is more difficult to\ndetect collisions and contacts. For Edge/Edge collision testing we only use the &lt;em&gt;current\nposition&lt;/em&gt; of the Edges, instead of looking at how the Edges moved over time. There are\ncases where two rapidly moving curved edges can pass entirely thru each other in a\nsingle time step and so the Edge/Edge code will not detect the collision. The solution\nis to add Vertexes along the curved Edge, and rely on the regular Vertex/Edge collision\nchecking.&lt;/p&gt;\n&lt;p&gt;We refer to these as &amp;#39;mid-point&amp;#39; or &amp;#39;decorated&amp;#39; Vertexes to distinguish them from the\n&amp;#39;end-point&amp;#39; Vertexes at the end-points of line segments. See &lt;a href=\&quot;myphysicslab.lab.engine2D.Vertex.html#isEndPoint\&quot;&gt;&lt;code&gt;#isEndPoint&lt;/code&gt;&lt;/a&gt;. The\nnumber of decorated Vertexes can be controlled by a spacing parameter when making a\ncurved Edge.&lt;/p&gt;\n&lt;p&gt;What typically happens for a collision involving a curved Edge and another Edge is:&lt;/p&gt;\n&lt;ol&gt;&lt;li&gt;\n&lt;p&gt;The mid-point Vertexes indicate there is a collision; the Edge/Edge tests might also\nindicate a collision.&lt;/p&gt;\n&lt;/li&gt;&lt;li&gt;\n&lt;p&gt;After backing up and getting close to – but just before – the moment of collision,\nthe Edge/Edge collision will have the smallest gap among all the detected contacts or\ncollisions, and will therefore supersede any decorated Vertex/Edge collisions or\ncontacts. The Edge/Edge collision gives better accuracy.&lt;/p&gt;\n&lt;/li&gt;&lt;/ol&gt;\n&quot;]]],[null,null,null,null,1,1],null,[],null,[],[],[[&quot;Vertex&quot;,[null,69,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;A Vertex is a point on an Edge in a Polygon, in body coordinates of the Polygon. A\nVertex can be at the end-point of the Edge, or at a mid-point of the Edge. An end-point\nVertex is connected to two Edges which are called the &amp;#39;previous&amp;#39; and &amp;#39;next&amp;#39; Edges. A\nmid-point Vertex is connected to only a single Edge, which is considered to be both the\n&amp;#39;previous&amp;#39; and &amp;#39;next&amp;#39; Edge in that case.&lt;/p&gt;\n&lt;p&gt;See &lt;code&gt;myphysicslab.lab.engine2D.Polygon&lt;/code&gt;, and\n&lt;code&gt;myphysicslab.lab.engine2D.Edge&lt;/code&gt;.&lt;/p&gt;\n&lt;h2&gt;Decorated Mid-Point Vertexes&lt;/h2&gt;\n&lt;p&gt;See also the section on &lt;a href=\&quot;Engine2D.html#decoratedvertexes\&quot;&gt;Decorated Vertexes&lt;/a&gt; in the\n2D Physics Engine Overview.&lt;/p&gt;\n&lt;p&gt;We add &amp;#39;decorated mid-point Vertexes&amp;#39; along a curved edge to help with collision and\ncontact detection.&lt;/p&gt;\n&lt;img src=\&quot;Engine2D_Decorated_Vertexes.svg\&quot; /&gt;\n&lt;p&gt;In collision detection, we look at both the current and previous position of the bodies\nto guess how the bodies moved over the last time step. For a potential Vertex/Edge\ncollision, we assume the Vertex moved along the straight line between its previous and\ncurrent position, and look for the intersection of that line with the Edge.&lt;/p&gt;\n&lt;p&gt;For an Edge/Edge collision, when one of the Edges is curved, it is more difficult to\ndetect collisions and contacts. For Edge/Edge collision testing we only use the &lt;em&gt;current\nposition&lt;/em&gt; of the Edges, instead of looking at how the Edges moved over time. There are\ncases where two rapidly moving curved edges can pass entirely thru each other in a\nsingle time step and so the Edge/Edge code will not detect the collision. The solution\nis to add Vertexes along the curved Edge, and rely on the regular Vertex/Edge collision\nchecking.&lt;/p&gt;\n&lt;p&gt;We refer to these as &amp;#39;mid-point&amp;#39; or &amp;#39;decorated&amp;#39; Vertexes to distinguish them from the\n&amp;#39;end-point&amp;#39; Vertexes at the end-points of line segments. See &lt;a href=\&quot;myphysicslab.lab.engine2D.Vertex.html#isEndPoint\&quot;&gt;&lt;code&gt;#isEndPoint&lt;/code&gt;&lt;/a&gt;. The\nnumber of decorated Vertexes can be controlled by a spacing parameter when making a\ncurved Edge.&lt;/p&gt;\n&lt;p&gt;What typically happens for a collision involving a curved Edge and another Edge is:&lt;/p&gt;\n&lt;ol&gt;&lt;li&gt;\n&lt;p&gt;The mid-point Vertexes indicate there is a collision; the Edge/Edge tests might also\nindicate a collision.&lt;/p&gt;\n&lt;/li&gt;&lt;li&gt;\n&lt;p&gt;After backing up and getting close to – but just before – the moment of collision,\nthe Edge/Edge collision will have the smallest gap among all the detected contacts or\ncollisions, and will therefore supersede any decorated Vertex/Edge collisions or\ncontacts. The Edge/Edge collision gives better accuracy.&lt;/p&gt;\n&lt;/li&gt;&lt;/ol&gt;\n&quot;]]],null,null,[null,null,null,null,null,1],null,null,[],[]],[],null,[[&quot;var_args&quot;,[null,1,null,null,null,null,null,1]]],null,[]],[[[&quot;getCurvature&quot;,[null,77,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the radius of curvature of the Edge at the Vertex&amp;#39;s location. If the\nVertex is between two Edges, returns the radius of curvature with smaller absolute\nvalue. Negative curvature means the Edge is concave at that point.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;radius of curvature of Edge at the Vertex, negative means\nconcave&lt;/p&gt;\n&quot;]]]],[]],[[&quot;getEdge1&quot;,[null,84,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the &amp;#39;previous&amp;#39; Edge that this Vertex is connected to.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;myphysicslab.lab.engine2D.Edge&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.Edge.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;the &amp;#39;previous&amp;#39; Edge that this Vertex is\nconnected to.&lt;/p&gt;\n&quot;]]]],[[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;if edge1 not yet set for this Vertex&lt;/p&gt;\n&quot;]]]]]],[[&quot;getEdge2&quot;,[null,91,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the &amp;#39;next&amp;#39; Edge that this Vertex is connected to.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;myphysicslab.lab.engine2D.Edge&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.Edge.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;the &amp;#39;next&amp;#39; Edge that this Vertex is\nconnected to.&lt;/p&gt;\n&quot;]]]],[[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;if edge2 not yet set for this Vertex&lt;/p&gt;\n&quot;]]]]]],[[&quot;getID&quot;,[null,96,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns an identity number unique for each Vertex, for debugging.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;an identity number unique for each Vertex, for debugging.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;highlight&quot;,[null,101,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Highlights this Vertex for debugging purposes.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],null,[]],[[&quot;isEndPoint&quot;,[null,108,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns true if this is a Vertex at the end of an Edge; returns false if this is\na &amp;#39;decorated mid-point&amp;#39; Vertex.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;boolean&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;true if this is a Vertex at the end of an Edge; returns false if this\nis a &amp;#39;decorated mid-point&amp;#39; Vertex.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;locBody&quot;,[null,113,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the location of this Vertex in body coords of its Polygon.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;myphysicslab.lab.util.Vector&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Vector.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;location of this Vertex in body coords of its Polygon&lt;/p&gt;\n&quot;]]]],[]],[[&quot;locBodyX&quot;,[null,118,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the horizontal location of this Vertex in body coords of its Polygon.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;location of this Vertex in body coords of its Polygon&lt;/p&gt;\n&quot;]]]],[]],[[&quot;locBodyY&quot;,[null,123,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the vertical location of this Vertex in body coords of its Polygon.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;location of this Vertex in body coords of its Polygon&lt;/p&gt;\n&quot;]]]],[]],[[&quot;safeGetEdge2&quot;,[null,129,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the next edge, or null if not yet assigned.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,null,null,[[[null,null,null,[&quot;myphysicslab.lab.engine2D.Edge&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.Edge.html&quot;]],null,[]]],[null,null,null,null,null,null,null,null,null,1]]]],[[[null,&quot;&lt;p&gt;edge the next edge, or &lt;code&gt;null&lt;/code&gt; if not yet\nassigned.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;setEdge1&quot;,[null,136,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Sets the &amp;#39;previous&amp;#39; Edge that this Vertex is connected to.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;edge&quot;,[null,null,null,[&quot;myphysicslab.lab.engine2D.Edge&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.Edge.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;the &amp;#39;previous&amp;#39; Edge that this Vertex is\nconnected to.&lt;/p&gt;\n&quot;]]]]],null,[[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;if this Vertex was already connected to a previous Edge&lt;/p&gt;\n&quot;]]]]]],[[&quot;setEdge2&quot;,[null,143,null,[null,null,&quot;source/src/lab/engine2D/Vertex.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Sets the &amp;#39;next&amp;#39; Edge that this Vertex is connected to.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;edge&quot;,[null,null,null,[&quot;myphysicslab.lab.engine2D.Edge&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.Edge.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;the &amp;#39;next&amp;#39; Edge that this Vertex is\nconnected to&lt;/p&gt;\n&quot;]]]]],null,[[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;if this Vertex was already connected to a next Edge&lt;/p&gt;\n&quot;]]]]]],[[&quot;toStringShort&quot;,[null,42,null,[null,null,&quot;source/src/lab/util/Printable.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns a minimal string representation of this object, usually giving just identity\ninformation like the class name and name of the object.&lt;/p&gt;\n&lt;p&gt;For an object whose main purpose is to represent another Printable object, it is\nrecommended to include the result of calling &lt;code&gt;toStringShort&lt;/code&gt; on that other object. For\nexample, calling &lt;code&gt;toStringShort()&lt;/code&gt; on a DisplayShape might return something like\nthis:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;DisplayShape{polygon:Polygon{&amp;#39;chain3&amp;#39;}}\n&lt;/code&gt;&lt;/pre&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;a minimal string representation of this object.&lt;/p&gt;\n&quot;]]]],[]]],[],null,[],[[&quot;myphysicslab.lab.util.Printable&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Printable.html&quot;]],null,[]]],[],[[&quot;myphysicslab.lab.engine2D.Vertex&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.Vertex.html&quot;]],null,[]],null,1],null,&quot;myphysicslab.lab.engine2D.Vertex.html&quot;,&quot;myphysicslab.lab.engine2D.Vertex&quot;,[],[],[[&quot;myphysicslab.lab.engine2D.ConcreteVertex&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.ConcreteVertex.html&quot;]],null,[]]],[]]]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="dossier.js" defer></script>