<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>myphysicslab.lab.engine2D.CollisionHandling</title><link href="dossier.css" rel="stylesheet" type="text/css"><script src="types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,[[[&quot;myphysicslab.lab.engine2D.CollisionHandling&quot;,null,null,null,[null,86,null,[null,null,&quot;source/src/lab/engine2D/CollisionHandling.js.src.html&quot;]],null,[[[null,&quot;&lt;p&gt;Enum that specifies which collision handling algorithm to use during\n&lt;code&gt;myphysicslab.lab.engine2D.ImpulseSim#handleCollisions&lt;/code&gt;.&lt;/p&gt;\n&lt;p&gt;More information:&lt;/p&gt;\n&lt;ul&gt;&lt;li&gt;\n&lt;p&gt;&lt;code&gt;myphysicslab.lab.engine2D.ImpulseSim&lt;/code&gt;&lt;/p&gt;\n&lt;/li&gt;&lt;li&gt;\n&lt;p&gt;&lt;code&gt;myphysicslab.lab.engine2D.ImpulseSim#setCollisionHandling&lt;/code&gt;&lt;/p&gt;\n&lt;/li&gt;&lt;li&gt;\n&lt;p&gt;&lt;a href=\&quot;Engine2D.html#multiplesimultaneouscollisions\&quot;&gt;Multiple Simultaneous Collisions&lt;/a&gt;&lt;/p&gt;\n&lt;/li&gt;&lt;/ul&gt;\n&lt;h3&gt;SIMULTANEOUS&lt;/h3&gt;\n&lt;p&gt;All collisions are solved in a single step, with the goal condition being that the\npost-collision velocity is equal to elasticity times opposite of pre-collision velocity.&lt;/p&gt;\n&lt;h3&gt;HYBRID&lt;/h3&gt;\n&lt;p&gt;Like SERIAL, this operates on one collision at a time, but for each collision it will\ninclude any other collisions on either of the two bodies involved (for finite mass\nbodies only), doing a simultaneous collision handling for that set of bodies. Any bodies\nconnected by joints are also included.&lt;/p&gt;\n&lt;h3&gt;SERIAL (4 flavors)&lt;/h3&gt;\n&lt;p&gt;Operates on one &amp;#39;focus&amp;#39; collision at a time, applying the impulse and then dealing with\nany &amp;#39;ricochet&amp;#39; effects as objects thereby collide into other objects. This happens\nrepeatedly in a tight loop (within the collision handling method) until all ricochets\ndie out and no objects are colliding. The focus collision is chosen randomly each time\nthru the loop. This tends to produce the most realistic results.&lt;/p&gt;\n&lt;p&gt;There are four flavors of the SERIAL option, described below.&lt;/p&gt;\n&lt;h3&gt;SEPARATE vs. GROUPED&lt;/h3&gt;\n&lt;p&gt;SERIAL_GROUPED treats &lt;strong&gt;joints&lt;/strong&gt; connected to the focus collision together with the\nfocus collision (essentially a simultaneous collision handling for the group of current\ncollision &amp;#43; connected joints). SERIAL_SEPARATE allows us to see &lt;em&gt;how joints would\nricochet back and forth&lt;/em&gt; because they are handled separately like any other collision.&lt;/p&gt;\n&lt;p&gt;The SERIAL_GROUPED option turns out to give the same results as SERIAL_SEPARATE and is\nmuch faster. But SERIAL_SEPARATE lets us see that these two are equivalent by trying\neach option (and especially by turning on the appropriate debug statements inside\nhandleCollisionsSerial).&lt;/p&gt;\n&lt;h3&gt;LASTPASS&lt;/h3&gt;\n&lt;p&gt;The SERIAL_SEPARATE_LASTPASS and SERIAL_GROUPED_LASTPASS options turn on the &lt;em&gt;final\npass&lt;/em&gt; in &lt;code&gt;handleCollisionsSerial&lt;/code&gt; which does a &lt;em&gt;single simultaneous collision handling&lt;/em&gt;\nwith zero elasticity to all remaining collisions.&lt;/p&gt;\n&lt;p&gt;The serial collision handling loop in &lt;code&gt;ImpulseSim.handleCollisionsSerial()&lt;/code&gt; ends when\nall the collisions have either been handled (and therefore have large positive velocity)\nor have velocity is close to zero. The &lt;em&gt;last pass&lt;/em&gt; ensures that the collisions with very\nsmall negative velocity get a final small impulse so they are left with zero velocity.\nThis helps reduce &amp;#39;jitter&amp;#39; at places that should have zero velocity like contact points\nor joints.&lt;/p&gt;\n&lt;p&gt;*** WARNING*** the zero elasticity used during LASTPASS results in a small amount of\nenergy loss.&lt;/p&gt;\n&lt;p&gt;Note that enum types do not appear correctly in the documentation, they appear\nas the underlying type (string, number, boolean) instead of the enum type.\nsee &lt;a href=\&quot;https://github.com/jleyba/js-dossier/issues/32\&quot;&gt;Dossier issue #32&lt;/a&gt;.&lt;/p&gt;\n&quot;]]],[null,null,null,null,null,1],null,[],[[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[&quot;HYBRID&quot;,[[[null,&quot;&lt;p&gt;Combination of simultaneous and serial collision handling; in each step, any\ncollisions that involve the bodies in the focus collision are handled simultaneously.&lt;/p&gt;\n&quot;]]]],[&quot;SERIAL_GROUPED&quot;,[[[null,&quot;&lt;p&gt;Handle one &amp;#39;focus&amp;#39; collision at a time, but joints connected to the focus\ncollision are solved simultaneously.&lt;/p&gt;\n&quot;]]]],[&quot;SERIAL_GROUPED_LASTPASS&quot;,[[[null,&quot;&lt;p&gt;Handle one &amp;#39;focus&amp;#39; collision at a time, but joints connected to the focus\ncollision are solved simultaneously; also at the end of the process a final\nsimultaneous collision handling with zero elasticity is done to eliminate velocity at\ncontacts.&lt;/p&gt;\n&quot;]]]],[&quot;SERIAL_SEPARATE&quot;,[[[null,&quot;&lt;p&gt;Handle one &amp;#39;focus&amp;#39; collision at a time.&lt;/p&gt;\n&quot;]]]],[&quot;SERIAL_SEPARATE_LASTPASS&quot;,[[[null,&quot;&lt;p&gt;Handle one &amp;#39;focus&amp;#39; collision at a time; also at the end of the process a final\nsimultaneous collision handling with zero elasticity is done to eliminate velocity at\ncontacts.&lt;/p&gt;\n&quot;]]]],[&quot;SIMULTANEOUS&quot;,[[[null,&quot;&lt;p&gt;Solve all collisions in a single step, with the goal condition being that the\npost-collision velocity is equal to elasticity times opposite of pre-collision\nvelocity.&lt;/p&gt;\n&quot;]]]]]],[[[&quot;choiceToEnum&quot;,[null,116,null,[null,null,&quot;source/src/lab/engine2D/CollisionHandling.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Converts a localized choice string to an enum.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;value&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the localized choice string to convert&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;myphysicslab.lab.engine2D.CollisionHandling&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.CollisionHandling.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;the enum corresponding to the choice&lt;/p&gt;\n&quot;]]]],[[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;if the value does not represent a valid enum&lt;/p&gt;\n&quot;]]]]]],[[&quot;enumToChoice&quot;,[null,131,null,[null,null,&quot;source/src/lab/engine2D/CollisionHandling.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Converts an enum to a localized choice string.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;value&quot;,[null,null,null,[&quot;myphysicslab.lab.engine2D.CollisionHandling&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.CollisionHandling.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;enum value to convert&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the localized choice string corresponding to the enum&lt;/p&gt;\n&quot;]]]],[[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;if the value does not represent a valid enum&lt;/p&gt;\n&quot;]]]]]],[[&quot;getChoices&quot;,[null,144,null,[null,null,&quot;source/src/lab/engine2D/CollisionHandling.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns array containing all localized enum choices.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;string&quot;,null,null,1,[]]]]]],[[[null,&quot;&lt;p&gt;array containing all localized enum choices.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;getValues&quot;,[null,152,null,[null,null,&quot;source/src/lab/engine2D/CollisionHandling.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns array containing all possible enum values.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;myphysicslab.lab.engine2D.CollisionHandling&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.CollisionHandling.html&quot;]],null,[]]]]]],[[[null,&quot;&lt;p&gt;array containing all possible enum values.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;stringToEnum&quot;,[null,168,null,[null,null,&quot;source/src/lab/engine2D/CollisionHandling.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Converts a string to an enum.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[],[]],[],null,[[&quot;value&quot;,[null,null,null,[&quot;string&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the string to convert&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;myphysicslab.lab.engine2D.CollisionHandling&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.CollisionHandling.html&quot;]],null,[]]],[[[null,&quot;&lt;p&gt;the enum corresponding to the value&lt;/p&gt;\n&quot;]]]],[[null,[null,null,null,[&quot;Error&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;if the value does not represent a valid enum&lt;/p&gt;\n&quot;]]]]]]],[],null,[],[],null,[],[],[],[[&quot;myphysicslab.lab.engine2D.CollisionHandling&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.engine2D.CollisionHandling.html&quot;]],null,[]],null,1],null,&quot;myphysicslab.lab.engine2D.CollisionHandling.html&quot;,&quot;myphysicslab.lab.engine2D.CollisionHandling&quot;,[],[],[],[]]]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="dossier.js" defer></script>