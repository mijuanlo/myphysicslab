<!DOCTYPE html><html lang="en" class="loading"><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"><meta http-equiv="X-UA-Compatible" content="IE=edge"><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"><title>myphysicslab.lab.util.RandomLCG</title><link href="dossier.css" rel="stylesheet" type="text/css"><script src="types.js" defer></script><header><button class="dossier-menu"><i class="material-icons">menu</i></button><form><input type="search" placeholder="Search" tabindex="1"><i class="material-icons">search</i></form></header><nav class="dossier-nav"></nav><div class="content"><main data-page-data="[null,[[[&quot;myphysicslab.lab.util.RandomLCG&quot;,null,null,null,[null,98,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],null,[[[null,&quot;&lt;p&gt;Pseudo-random number generator using a Linear Congruential Generator (LCG).&lt;/p&gt;\n&lt;p&gt;This class is designed to give same numbers in both Java and Javascript, so that\ntests using this class will have the same results. In Java we use floating point double\nnumbers to match how Javascript stores numbers.&lt;/p&gt;\n&lt;h2&gt;Linear Congruential Generator (LCG)&lt;/h2&gt;\n&lt;p&gt;From &lt;a href=\&quot;http://en.wikipedia.org/wiki/Linear_congruential_generator\&quot;&gt;http://en.wikipedia.org/wiki/Linear_congruential_generator&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The generator is defined by the recurrence relation:&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code&gt;X_{n&amp;#43;1} &amp;#61; ( a X_n &amp;#43; c ) mod m\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;where &lt;code&gt;X&lt;/code&gt; is the sequence of pseudorandom values, and&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code&gt;m, 0 &amp;lt; m  – the &amp;#39;modulus&amp;#39;\na, 0 &amp;lt; a &amp;lt; m – the &amp;#39;multiplier&amp;#39;\nc, 0 &amp;lt;&amp;#61; c &amp;lt; m – the &amp;#39;increment&amp;#39;\nX_0, 0 &amp;lt;&amp;#61; X_0 &amp;lt; m – the &amp;#39;seed&amp;#39; or &amp;#39;start value&amp;#39;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Period Length&lt;/h2&gt;\n&lt;p&gt;From &lt;a href=\&quot;http://en.wikipedia.org/wiki/Linear_congruential_generator\&quot;&gt;http://en.wikipedia.org/wiki/Linear_congruential_generator&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Provided that the offset &lt;code&gt;c&lt;/code&gt; is nonzero, the LCG will have a full period for all seed\nvalues if and only if:&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code&gt;c and m are relatively prime,\na - 1 is divisible by all prime factors of m,\na - 1 is a multiple of 4 if m is a multiple of 4.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;These three requirements are referred to as the Hull-Dobell Theorem. While LCGs are\ncapable of producing pseudorandom numbers which can pass formal tests for randomness,\nthis is extremely sensitive to the choice of the parameters &lt;code&gt;c&lt;/code&gt;, &lt;code&gt;m&lt;/code&gt;, and &lt;code&gt;a&lt;/code&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;The numbers chosen for RandomLCG satisfy the above conditions.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;m &amp;#61; 2 ^ 32 &amp;#61; 4,294,967,296\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;prime factors of the multiplier, &lt;code&gt;a&lt;/code&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;a &amp;#61; 1,664,525 &amp;#61; 5 x 5 x 139 x 479\na - 1 &amp;#61; 1664524 &amp;#61; 2 x 2 x 71 x 5861\nc &amp;#61; 1,013,904,223 is a prime number\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Floating Point Number&lt;/h2&gt;\n&lt;p&gt;The double number format allows exact representation of all integers with absolute\nvalue less than &lt;code&gt;2^53&lt;/code&gt;. We need to avoid making numbers larger than &lt;code&gt;2^53&lt;/code&gt; to avoid\nloss of accuracy. Every number generated will be between 0 and &lt;code&gt;m-1&lt;/code&gt;. The maximum\nnumber that can be made in the algorithm is &lt;code&gt;(m-1)*a &amp;#43; c&lt;/code&gt;. So we have to ensure that&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;(m-1)*a &amp;#43; c &amp;lt; 2^53.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;For the numbers chosen this works out to:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;(2^32-1)*1664525 &amp;#43; 1013904223 &amp;#61; 3.5745412314269e15\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This is less than &lt;code&gt;2^53 &amp;#61; 9.00719925474099e15&lt;/code&gt;, so we should stay within the range of\nexact integers.&lt;/p&gt;\n&lt;h2&gt;Warning About Usage&lt;/h2&gt;\n&lt;p&gt;The series of numbers generated by a particular instance of RandomLCG will be\npseudo-random. But if you make another instance of RandomLCG with a seed that is close\nto the first, the two RandomLCG instances will produce a highly correlated series. For\nexample, repeatedly calling the following will produce a pretty much linear non-random\nsequence because &lt;code&gt;goog.now()&lt;/code&gt; returns the current time in milliseconds which doesn&amp;#39;t\nchange much between invocations.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;new RandomLCG(goog.now()).nextFloat();\n&lt;/code&gt;&lt;/pre&gt;\n&quot;]]],[null,null,null,null,null,1],null,[],null,[],[],[[&quot;RandomLCG&quot;,[null,98,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Pseudo-random number generator using a Linear Congruential Generator (LCG).&lt;/p&gt;\n&lt;p&gt;This class is designed to give same numbers in both Java and Javascript, so that\ntests using this class will have the same results. In Java we use floating point double\nnumbers to match how Javascript stores numbers.&lt;/p&gt;\n&lt;h2&gt;Linear Congruential Generator (LCG)&lt;/h2&gt;\n&lt;p&gt;From &lt;a href=\&quot;http://en.wikipedia.org/wiki/Linear_congruential_generator\&quot;&gt;http://en.wikipedia.org/wiki/Linear_congruential_generator&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;The generator is defined by the recurrence relation:&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code&gt;X_{n&amp;#43;1} &amp;#61; ( a X_n &amp;#43; c ) mod m\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;where &lt;code&gt;X&lt;/code&gt; is the sequence of pseudorandom values, and&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code&gt;m, 0 &amp;lt; m  – the &amp;#39;modulus&amp;#39;\na, 0 &amp;lt; a &amp;lt; m – the &amp;#39;multiplier&amp;#39;\nc, 0 &amp;lt;&amp;#61; c &amp;lt; m – the &amp;#39;increment&amp;#39;\nX_0, 0 &amp;lt;&amp;#61; X_0 &amp;lt; m – the &amp;#39;seed&amp;#39; or &amp;#39;start value&amp;#39;\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Period Length&lt;/h2&gt;\n&lt;p&gt;From &lt;a href=\&quot;http://en.wikipedia.org/wiki/Linear_congruential_generator\&quot;&gt;http://en.wikipedia.org/wiki/Linear_congruential_generator&lt;/a&gt;&lt;/p&gt;\n&lt;blockquote&gt;\n&lt;p&gt;Provided that the offset &lt;code&gt;c&lt;/code&gt; is nonzero, the LCG will have a full period for all seed\nvalues if and only if:&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;pre&gt;&lt;code&gt;c and m are relatively prime,\na - 1 is divisible by all prime factors of m,\na - 1 is a multiple of 4 if m is a multiple of 4.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;blockquote&gt;\n&lt;p&gt;These three requirements are referred to as the Hull-Dobell Theorem. While LCGs are\ncapable of producing pseudorandom numbers which can pass formal tests for randomness,\nthis is extremely sensitive to the choice of the parameters &lt;code&gt;c&lt;/code&gt;, &lt;code&gt;m&lt;/code&gt;, and &lt;code&gt;a&lt;/code&gt;.&lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;p&gt;The numbers chosen for RandomLCG satisfy the above conditions.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;m &amp;#61; 2 ^ 32 &amp;#61; 4,294,967,296\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;prime factors of the multiplier, &lt;code&gt;a&lt;/code&gt;&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;a &amp;#61; 1,664,525 &amp;#61; 5 x 5 x 139 x 479\na - 1 &amp;#61; 1664524 &amp;#61; 2 x 2 x 71 x 5861\nc &amp;#61; 1,013,904,223 is a prime number\n&lt;/code&gt;&lt;/pre&gt;\n&lt;h2&gt;Floating Point Number&lt;/h2&gt;\n&lt;p&gt;The double number format allows exact representation of all integers with absolute\nvalue less than &lt;code&gt;2^53&lt;/code&gt;. We need to avoid making numbers larger than &lt;code&gt;2^53&lt;/code&gt; to avoid\nloss of accuracy. Every number generated will be between 0 and &lt;code&gt;m-1&lt;/code&gt;. The maximum\nnumber that can be made in the algorithm is &lt;code&gt;(m-1)*a &amp;#43; c&lt;/code&gt;. So we have to ensure that&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;(m-1)*a &amp;#43; c &amp;lt; 2^53.\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;For the numbers chosen this works out to:&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;(2^32-1)*1664525 &amp;#43; 1013904223 &amp;#61; 3.5745412314269e15\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;This is less than &lt;code&gt;2^53 &amp;#61; 9.00719925474099e15&lt;/code&gt;, so we should stay within the range of\nexact integers.&lt;/p&gt;\n&lt;h2&gt;Warning About Usage&lt;/h2&gt;\n&lt;p&gt;The series of numbers generated by a particular instance of RandomLCG will be\npseudo-random. But if you make another instance of RandomLCG with a seed that is close\nto the first, the two RandomLCG instances will produce a highly correlated series. For\nexample, repeatedly calling the following will produce a pretty much linear non-random\nsequence because &lt;code&gt;goog.now()&lt;/code&gt; returns the current time in milliseconds which doesn&amp;#39;t\nchange much between invocations.&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;new RandomLCG(goog.now()).nextFloat();\n&lt;/code&gt;&lt;/pre&gt;\n&quot;]]],null,null,[null,null,null,null,null,1],null,null,[],[]],[],1,[[&quot;seed&quot;,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;starting seed number should be an integer from 0 to &lt;code&gt;m-1&lt;/code&gt;;\notherwise it is manipulated to be in that range.&lt;/p&gt;\n&quot;]]]]],null,[]],[[[&quot;getModulus&quot;,[null,139,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the modulus of the random number generator.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html#getModulus&quot;]],null,[]]],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the modulus of the random number generator&lt;/p&gt;\n&quot;]]]],[]],[[&quot;getSeed&quot;,[null,144,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns the seed of the random number generator.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html#getSeed&quot;]],null,[]]],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the seed of the random number generator&lt;/p&gt;\n&quot;]]]],[]],[[&quot;nextFloat&quot;,[null,149,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns random floating point number in range &lt;code&gt;[0,1]&lt;/code&gt;.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html#nextFloat&quot;]],null,[]]],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;random floating point number in range &lt;code&gt;[0,1]&lt;/code&gt;&lt;/p&gt;\n&quot;]]]],[]],[[&quot;nextInt&quot;,[null,158,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns next random integer in range 0 (inclusive) to modulus (exclusive).&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html#nextInt&quot;]],null,[]]],[]],[],null,[],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;next the pseudo-random number&lt;/p&gt;\n&quot;]]]],[]],[[&quot;nextRange&quot;,[null,182,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns random integer in range 0 (inclusive) to n (exclusive).&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html#nextRange&quot;]],null,[]]],[]],[],null,[[&quot;n&quot;,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the limit of the range&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;random integer in range 0 (inclusive) to n (exclusive)&lt;/p&gt;\n&quot;]]]],[]],[[&quot;randomInts&quot;,[null,204,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Returns an array of integers from 0 to &lt;code&gt;n-1&lt;/code&gt;, in random order.&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html#randomInts&quot;]],null,[]]],[]],[],null,[[&quot;n&quot;,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the size of the array to create&lt;/p&gt;\n&quot;]]]]],[null,[null,null,null,[&quot;Array&quot;,null,null,1,[[null,null,null,[&quot;number&quot;,null,null,1,[]]]]]],[[[null,&quot;&lt;p&gt;an array of integers from 0 to &lt;code&gt;n-1&lt;/code&gt;, in random order.&lt;/p&gt;\n&quot;]]]],[]],[[&quot;setSeed&quot;,[null,240,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[[null,&quot;&lt;p&gt;Sets the seed of the random number generator; must be an integer between 0\n(inclusive) and modulus (exclusive).&lt;/p&gt;\n&quot;]]],null,null,null,null,null,[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html#setSeed&quot;]],null,[]]],[]],[],null,[[&quot;seed&quot;,[null,null,null,[&quot;number&quot;,null,null,1,[]]],[[[null,&quot;&lt;p&gt;the seed to start the random number generator with&lt;/p&gt;\n&quot;]]]]],null,[]],[[&quot;toString&quot;,[null,117,null,[null,null,&quot;source/src/lab/util/RandomLCG.js.src.html&quot;]],[[]],null,null,null,null,null,[],[]],[],null,[],[null,[null,null,null,[&quot;string&quot;,null,null,1,[]]]],[]]],[],null,[],[[&quot;myphysicslab.lab.util.Random&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.Random.html&quot;]],null,[]]],[],[[&quot;myphysicslab.lab.util.RandomLCG&quot;,null,[null,null,[null,null,&quot;myphysicslab.lab.util.RandomLCG.html&quot;]],null,[]],null,1],null,&quot;myphysicslab.lab.util.RandomLCG.html&quot;,&quot;myphysicslab.lab.util.RandomLCG&quot;,[],[],[],[]]]]]"></main><footer><div><a href="https://github.com/jleyba/js-dossier">Generated by dossier</a></div></footer></div><script src="dossier.js" defer></script>