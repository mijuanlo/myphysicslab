(/*Copyright_2020_Erik_Neumann_All_Rights_Reserved_www.myphysicslab.com*/function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var k=this||self;function l(){}function m(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function aa(a,b){function c(){}c.prototype=b.prototype;a.D=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.L=function(e,d,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[d].apply(e,g)}};const ba=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},ca=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,e="string"===typeof a?a.split(""):a,d=0;d<c;d++)d in e&&b.call(void 0,e[d],d,a)},da=Array.prototype.reduce?function(a,b,c){return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c){var e=c;ca(a,function(d,f){e=b.call(void 0,e,d,f,a)});return e};function ea(a,b){a:{for(var c=a.length,e="string"===typeof a?a.split(""):a,d=0;d<c;d++)if(d in e&&b.call(void 0,e[d],d,a)){b=d;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function p(a,b){b=ba(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c};function q(a,b){this.type=a;this.target=b}q.prototype.h=function(){};var r;a:{var t=k.navigator;if(t){var u=t.userAgent;if(u){r=u;break a}}r=""};(class{constructor(a,b){this.g=b===fa?a:""}}).prototype.toString=function(){return this.g.toString()};var fa={};function v(a){v[" "](a);return a}v[" "]=l;var ha=-1!=r.indexOf("Gecko")&&!(-1!=r.toLowerCase().indexOf("webkit")&&-1==r.indexOf("Edge"))&&!(-1!=r.indexOf("Trident")||-1!=r.indexOf("MSIE"))&&-1==r.indexOf("Edge");var ia=function(){if(!k.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{k.addEventListener("test",l,b),k.removeEventListener("test",l,b)}catch(c){}return a}();function w(a){q.call(this,a?a.type:"");this.relatedTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.g=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.i=null;if(a){var b=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;var e=a.relatedTarget;if(e){if(ha){a:{try{v(e.nodeName);var d=!0;break a}catch(f){}d=!1}d||(e=null)}}else"mouseover"==
b?e=a.fromElement:"mouseout"==b&&(e=a.toElement);this.relatedTarget=e;c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.g=a.keyCode||0;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:ja[a.pointerType]||"";this.i=a;a.defaultPrevented&&w.D.h.call(this)}}aa(w,q);var ja={2:"touch",3:"pen",4:"mouse"};w.prototype.h=function(){w.D.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var x="closure_listenable_"+(1E6*Math.random()|0);var ka=0;function la(a,b,c,e,d){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!e;this.h=d;this.key=++ka;this.g=this.u=!1}function y(a){a.g=!0;a.listener=null;a.proxy=null;a.src=null;a.h=null};function z(a){this.src=a;this.g={};this.h=0}z.prototype.add=function(a,b,c,e,d){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.h++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.g&&h.listener==b&&h.capture==!!e&&h.h==d)break a}g=-1}-1<g?(b=a[g],c||(b.u=!1)):(b=new la(b,this.src,f,!!e,d),b.u=c,a.push(b));return b};var A="closure_lm_"+(1E6*Math.random()|0),B={},C=0;function D(a,b,c,e,d){if(e&&e.once)E(a,b,c,e,d);else if(Array.isArray(b))for(var f=0;f<b.length;f++)D(a,b[f],c,e,d);else c=F(c),a&&a[x]?a.g(b,c,m(e)?!!e.capture:!!e,d):G(a,b,c,!1,e,d)}
function G(a,b,c,e,d,f){if(!b)throw Error("Invalid event type");var g=m(d)?!!d.capture:!!d,h=H(a);h||(a[A]=h=new z(a));c=h.add(b,c,e,g,f);if(!c.proxy){e=ma();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)ia||(d=g),void 0===d&&(d=!1),a.addEventListener(b.toString(),e,d);else if(a.attachEvent)a.attachEvent(I(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");C++}}
function ma(){function a(c){return b.call(a.src,a.listener,c)}var b=na;return a}function E(a,b,c,e,d){if(Array.isArray(b))for(var f=0;f<b.length;f++)E(a,b[f],c,e,d);else c=F(c),a&&a[x]?a.h(b,c,m(e)?!!e.capture:!!e,d):G(a,b,c,!0,e,d)}function I(a){return a in B?B[a]:B[a]="on"+a}
function na(a,b){if(a.g)a=!0;else{b=new w(b,this);var c=a.listener,e=a.h||a.src;if(a.u&&"number"!==typeof a&&a&&!a.g){var d=a.src;if(d&&d[x])d.i(a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(I(f),g):d.addListener&&d.removeListener&&d.removeListener(g);C--;(f=H(d))?(g=a.type,g in f.g&&p(f.g[g],a)&&(y(a),0==f.g[g].length&&(delete f.g[g],f.h--)),0==f.h&&(f.src=null,d[A]=null)):y(a)}}a=c.call(e,b)}return a}
function H(a){a=a[A];return a instanceof z?a:null}var J="__closure_events_fn_"+(1E9*Math.random()>>>0);function F(a){if("function"===typeof a)return a;a[J]||(a[J]=function(b){return a.handleEvent(b)});return a[J]};function oa(){window.onerror=function(a,b,c){3>pa++&&alert(a+"\n"+b+":"+c)}}function K(a){if(isNaN(a))throw"not a number "+a;return a}function L(a){return a.toUpperCase().replace(/[ -]/g,"_")}function P(a){if(!a.match(/^[A-Z_][A-Z_0-9]*$/))throw"not a valid name: "+a;return a}var qa=Number.NaN,pa=0;function ra(a){return a.replace(/\\(x|u00)([0-9a-fA-F]{2})/g,function(b,c,e){return String.fromCharCode(Number("0x"+e))})}
function sa(a,b){for(let e in window){a:{for(let d=0,f=b.length;d<f;d++)if(e==b[d]){var c=!1;break a}c=(new RegExp("\\b"+e+"\\b","g")).test(a)}if(c)throw'prohibited name: "'+e+'" found in script: '+a;}if(/\b(myEval|Function|with|__proto__|call|apply|caller|callee|arguments|addWhiteList|vetCommand|badCommand|whiteList_|addRegex|addRegex2|regexs_|afterEvalFn_|setAfterEval|parentNode|parentElement|innerHTML|outerHTML|offsetParent|insertAdjacentHTML|appendChild|insertBefore|replaceChild|removeChild|ownerDocument|insertBefore|setParser|defineNames|globalEval|window|defineProperty|defineProperties|__defineGetter__|__defineSetter__)\b/g.test(a))throw"prohibited name in script: "+a;
}function Q(a,b){a.j&&(a.j.value+=b+"\n",ta(a))}function ua(a){let b=0,c="",e,d,f="",g=!1,h=!1,M=!1,N="",n,O;n=0;for(O=a.length;n<O;n++)if(e=f," "!=f&&"\t"!=f&&"\n"!=f&&(c=f),f=a[n],d=n+1<O?a[n+1]:"\x00",g){if("\n"==f&&(g=!1,0==b))break}else if(h)"/"==f&&"\\"!=e&&(h=!1);else if(M)f==N&&"\\"!=e&&(M=!1,N="");else if("/"==f)"/"==d?g=!0:"*"==d||!c||"="!=c&&"("!=c||(h=!0);else if('"'==f||"'"==f)M=!0,N=f;else if(";"==f&&0==b)break;else"{"==f?b++:"}"==f&&b--;return[a.slice(0,n+1),a.slice(n+1)]}
function va(a,b){b=wa(b);let c="",e=0;for(;b;){if(1E4<++e)throw"Terminal.expand";var d=b.match(/^[^'"/]+/);if(null!==d&&(d=d[0],b=b.slice(d.length),d=da(a.G,function(f,g){return f.replace(g.M,g.replace)},d),sa(d,a.I),c+=d,0==b.length))break;if(c.match(/.*[=(][ ]*$/)&&(d=b.match(/^\/[^*/](\\\/|[^\\/])*\//),null!==d)){d=d[0];b=b.slice(d.length);c+=d;continue}0<b.length&&"/"==b[0]?(c+="/",b=b.slice(1)):(d=b.match(/^"(\\.|[^\\"])*"/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&'"'==b[0]?(c+=
'"',b=b.slice(1)):(d=b.match(/^'(\\.|[^\\'])*'/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&"'"==b[0]&&(c+="'",b=b.slice(1))))}return c}function ta(a){a.g&&a.j&&(a.j.scrollTop=a.j.scrollHeight-a.j.offsetHeight,a.g.value="")}function wa(a){const b=a.match(/^\s*(var|let|const)\s+(\w[\w_\d]*)(.*)/);return b?b[2]+b[3]:a}
class xa{constructor(a,b){if(this.g=a)a.spellcheck=!1;if(this.j=b)b.spellcheck=!1;this.g&&D(this.g,"keydown",this.K,!1,this);this.g&&D(this.g,"change",this.F,!0,this);this.s=!1;this.l=[];this.h=-1;this.G=[];this.o=[];this.z={};this.I="myphysicslab goog length name terminal find".split(" ");this.m=0;Q(this,"myPhysicsLab version 2.0.0, advanced-compiled on 2021-03-25 23:47:07.")}toString(){return""}eval(a,b,c){b="boolean"===typeof b?b:!0;if((c=c||!1)&&!b)throw"";a=ra(a).trim();if(!a.match(/^\s*$/)){this.m++;
1<this.m&&(b=!1);b?(this.l.unshift(a),this.h=-1):(this.o.push(this.i),this.i=void 0);try{{var e=a;const f=/^\w\s*\[\s*\d*\s*\]$/;var d=e.match(/\w\s*\[[^\]]*?\]/g);if(null!=d)for(let g=0,h=d.length;g<h;g++)if(!f.test(d[g]))throw"prohibited usage of square brackets in script: "+e+" Only positive integer is allowed in brackets.  Try using Util.get(array, index) or Util.set(array, index, value).";}for(d=["",a];d=ua(d[1]),d[0];){const f=d[0].trim();if(0!=f.length){{b&&Q(this,"> "+f);if(f.match(/^\s*\/\/.*/))continue;
const g=va(this,f);console.log("JavaScript is disabled due to advanced compilation; try a simple-compiled version: "+g);Q(this,"JavaScript is disabled due to advanced compilation; try a simple-compiled version");this.i=void 0}}}b&&void 0!==this.i&&";"!=a.slice(-1)&&Q(this,String(this.i));b&&void 0!==this.v&&this.v()}catch(f){if(b?(this.i=void 0,Q(this,f)):this.i=this.o.pop(),!c)throw this.m--,f.message+="\nScript: "+a,f;}this.m--;if(b)return ta(this),this.i;a=this.i;this.i=this.o.pop();return a}}K(a){this.g&&
this.j&&(a.metaKey&&75==a.g?(this.j.value="",a.h()):38==a.g||40==a.g?(-1==this.h&&""!=this.g.value&&(this.l.unshift(this.g.value),this.h=0),38==a.g?this.h<this.l.length-1&&(this.h++,this.g.value=this.l[this.h]):40==a.g&&(0<this.h?(this.h--,this.g.value=this.l[this.h]):(this.h=-1,this.g.value="")),a.h()):13==a.g&&this.eval(this.g.value,!0,!0))}F(){this.g&&this.eval(this.g.value,!0,!0)}};class ya{constructor(){this.h=P(L("SIZE_CHANGED"))}toString(){return""}g(){return this.h}};class R{constructor(a){this.h=P(L(a))}toString(){return""}g(){return this.h}};class za{constructor(){this.h=P(L(S.H))}toString(){return""}g(){return this.h}};function Aa(a){if(!a.j){for(let b=0,c=a.i.length;b<c;b++){const e=a.i[b];e.action?a.h.includes(e.C)||a.h.push(e.C):p(a.h,e.C)}a.i=[]}}function Ba(a,b){b=L(b);return ea(a.l,c=>c.g()==b)}function T(a,b){const c=b.g(),e=Ba(a,c);if(null!=e)throw"parameter "+c+" already exists: "+e;a.l.push(b)}function Ca(a,b){a.j=!0;try{a.h.forEach(c=>c.g(b))}finally{a.j=!1,Aa(a)}}function Da(a,b){const c=Ba(a,b);if(null==c)throw"unknown Parameter "+b;Ca(a,c)}
class Ea{constructor(a){if(!a)throw"no name";P(L(a));this.h=[];this.l=[];this.j=!1;this.i=[]}toString(){return""}};class U{constructor(a,b,c){c="number"===typeof c?c:0;this.g=K(a);this.h=K(b);this.i=K(c);this.j=this.l=qa}toString(){return""}add(a){return new U(this.g+a.g,this.h+a.h,this.i+a.i)}length(){if(isNaN(this.l)){var a=Math,b=a.sqrt;isNaN(this.j)&&(this.j=0===this.i?this.g*this.g+this.h*this.h:this.g*this.g+this.h*this.h+this.i*this.i);this.l=b.call(a,this.j)}return this.l}}new U(1,0);new U(0,1);new U(0,0);new U(0,-1);new U(-1,0);class Fa{constructor(){K(0);K(0);K(0);K(0)}toString(){return""}}new Fa;class Ga{constructor(a,b){if("number"!==typeof a||"number"!==typeof b)throw"";if(0>a||0>b)throw"";}toString(){return""}}new Ga(0,0);function Ha(a){const b=new Ga(a.g.width,a.g.height);a.m.forEach(c=>c.g(b));Ca(a,new ya)}function Ia(a){a.g.width=480;a.g.height=480;Ha(a);Da(a,S.B);Da(a,S.A)}class Ja extends Ea{constructor(a,b){super(b);this.g=a;a.contentEditable=!1;this.m=[];T(this,new R(S.B));T(this,new R(S.A));T(this,new R(S.ALPHA));T(this,new za)}toString(){return""}}var S={B:"width",A:"height",ALPHA:"alpha",H:"background"};function Ka(a,b){a=a[b];if("string"!==typeof a)throw"unknown elementId: "+b;return document.getElementById(a)}function V(a,b){a=a[b];if("string"!==typeof a)throw"unknown elementId: "+b;b=document.getElementById(a);if(!m(b))throw"not found: element with id="+a;return b}
class La{constructor(a){var b=Ka(a,"term_output");const c=Ka(a,"term_input");this.m=new xa(c,b);this.h=V(a,"sim_applet");this.h.style.position="relative";b=document.createElement("canvas");b.tabIndex=0;b.width=800;b.height=480;this.v=new Ja(b,"simCanvas");this.h.appendChild(this.v.g);this.g=V(a,"div_graph");b=document.createElement("canvas");b.style.g="left";b.style.margin="0px 15px 15px 0px";this.i=new Ja(b,"graphCanvas");Ia(this.i);this.g.style.display="none";this.l=V(a,"graph_controls");this.g.insertBefore(this.i.g,
this.l);const e=V(a,"show_graph");this.s=f=>{this.g.style.display=f?"block":"none";e.checked=f};D(e,"click",()=>this.s(e.checked));this.j=V(a,"sim_controls");const d=V(a,"show_controls");this.j.style.display="none";this.o=f=>{this.j.style.display=f?"block":"none";d.checked=f};D(d,"click",()=>this.o(d.checked));V(a,"form_terminal").style.display="none";V(a,"label_terminal").style.display="none";V(a,"show_hide_form")}toString(){return""}};class W{constructor(a){oa();this.h=new La(a);this.g=this.h.m}J(){}eval(a,b){try{return this.g.eval(a,b)}catch(c){a=this.g,b=c,a.s?console.log(b):(a.s=!0,alert(b))}}}W.prototype.eval=W.prototype.eval;W.prototype.defineNames=W.prototype.J;function Ma(a){return new W(a)}var X=["makeTerminalSpringApp"],Y=k;X[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Ma?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Ma;}).call(window)
