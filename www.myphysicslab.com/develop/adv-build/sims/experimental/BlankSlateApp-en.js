(/*Copyright_2020_Erik_Neumann_All_Rights_Reserved_www.myphysicslab.com*/function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
'use strict';var r=this||self;function aa(){}function t(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ba(a,b){function c(){}c.prototype=b.prototype;a.Z=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.oa=function(e,d,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[d].apply(e,g)}};const ca=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},da=Array.prototype.forEach?function(a,b){Array.prototype.forEach.call(a,b,void 0)}:function(a,b){for(var c=a.length,e="string"===typeof a?a.split(""):a,d=0;d<c;d++)d in e&&b.call(void 0,e[d],d,a)},ea=Array.prototype.reduce?function(a,b,c){return Array.prototype.reduce.call(a,
b,c)}:function(a,b,c){var e=c;da(a,function(d,f){e=b.call(void 0,e,d,f,a)});return e};function fa(a,b){a:{for(var c=a.length,e="string"===typeof a?a.split(""):a,d=0;d<c;d++)if(d in e&&b.call(void 0,e[d],d,a)){b=d;break a}b=-1}return 0>b?null:"string"===typeof a?a.charAt(b):a[b]}function ha(a,b){b=ca(a,b);var c;(c=0<=b)&&Array.prototype.splice.call(a,b,1);return c}function ia(a,b,c,e){Array.prototype.splice.apply(a,ja(arguments,1))}
function ja(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function ka(a,b){a.sort(b||la)}function ma(a,b){for(var c=Array(a.length),e=0;e<a.length;e++)c[e]={index:e,value:a[e]};var d=b||la;ka(c,function(f,g){return d(f.value,g.value)||f.index-g.index});for(e=0;e<a.length;e++)a[e]=c[e].value}function la(a,b){return a>b?1:a<b?-1:0};function u(a){const b=document.createElement("img");b.src=a;b.width=30;b.height=30;return b}function na(){window.onerror=function(a,b,c){3>oa++&&alert(a+"\n"+b+":"+c)}}function pa(a){void 0!==a&&(qa=a)}function v(a){if(!isFinite(a))throw"not a finite number "+a;return a}function w(a){if(isNaN(a))throw"not a number "+a;return a}function y(a){return a.toUpperCase().replace(/[ -]/g,"_")}function z(a){if(!a.match(/^[A-Z_][A-Z_0-9]*$/))throw"not a valid name: "+a;return a}
function A(a,b){var c=c||1E-14;if(isNaN(a)||isNaN(b))throw"argument is NaN";if(0>=c)throw"epsilon must be positive "+c;var e=e||1;if(0>=e)throw"magnitude must be positive "+e;const d=Math.max(Math.abs(a),Math.abs(b));return Math.abs(a-b)>(d>e?d:e)*c}var qa=".",ra=t(performance)&&"function"===typeof performance.now,sa=Number.NaN,ta=Number.NEGATIVE_INFINITY,oa=0,ua=Number.POSITIVE_INFINITY;class B{constructor(a,b,c){this.l=z(y(b));this.m=a;this.o=c}toString(){return""}h(){return this.l}i(){return this.m}g(){return this.o}j(a){return this.l==y(a)}};function va(a,b){if("boolean"!==typeof b)throw"non-boolean value: "+b;b!==a.g()&&a.s(b)}class wa{constructor(a,b,c,e,d){this.u=a;this.l=z(y(b));this.o=c;this.m=e;this.s=d}toString(){return""}h(a){return a?this.o:this.l}i(){return this.u}g(){return this.m()}j(a){return this.l==y(a)}};function xa(a){var b=Number.NEGATIVE_INFINITY;if(b>a.g()||b>a.m)throw"out of range: "+b+" value="+a.g()+" upper="+a.m;return a}class C{constructor(a,b,c,e){this.u=a;this.l=z(y(b));this.s=c;this.o=e;this.m=ua}toString(){return""}h(a){return a?this.s:this.l}i(){return this.u}g(){return this.o()}j(a){return this.l==y(a)}};class ya{constructor(a,b,c,e,d,f){this.s=a;this.l=z(y(b));this.o=c;this.m=e;if(null!=d)if(null!=f){if(f.length!==d.length)throw"different lengths choices:"+d+" values:"+f;}else throw"values is not defined";}toString(){return""}h(a){return a?this.o:this.l}i(){return this.s}g(){return this.m()}j(a){return this.l==y(a)}};function Aa(a){if(!a.I){for(let b=0,c=a.C.length;b<c;b++){const e=a.C[b];e.action?a.H.includes(e.U)||a.H.push(e.U):ha(a.H,e.U)}a.C=[]}}function Ba(a,b){a.C.push({action:!0,U:b});Aa(a)}function Ca(a,b){b=y(b);return fa(a.X,c=>c.h()==b)}function D(a,b){const c=b.h(),e=Ca(a,c);if(null!=e)throw"parameter "+c+" already exists: "+e;a.X.push(b)}function F(a,b){a.I=!0;try{a.H.forEach(c=>c.j(b))}finally{a.I=!1,Aa(a)}}function G(a,b){const c=Ca(a,b);if(null==c)throw"unknown Parameter "+b;F(a,c)}
class Da{constructor(a){if(!a)throw"no name";z(y(a));this.H=[];this.X=[];this.I=!1;this.C=[]}toString(){return""}};var Ea=String.prototype.trim?function(a){return a.trim()}:function(a){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(a)[1]};function Fa(a,b){return a<b?-1:a>b?1:0};var H;a:{var Ga=r.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){H=Ha;break a}}H=""};(class{constructor(a,b){this.g=b===Ia?a:""}}).prototype.toString=function(){return this.g.toString()};var Ia={};function Ja(a){Ja[" "](a);return a}Ja[" "]=aa;function Ka(a,b){var c=La;return Object.prototype.hasOwnProperty.call(c,a)?c[a]:c[a]=b(a)};var Ma=-1!=H.indexOf("Opera"),Na=-1!=H.indexOf("Trident")||-1!=H.indexOf("MSIE"),Oa=-1!=H.indexOf("Edge"),Pa=-1!=H.indexOf("Gecko")&&!(-1!=H.toLowerCase().indexOf("webkit")&&-1==H.indexOf("Edge"))&&!(-1!=H.indexOf("Trident")||-1!=H.indexOf("MSIE"))&&-1==H.indexOf("Edge"),Qa=-1!=H.toLowerCase().indexOf("webkit")&&-1==H.indexOf("Edge"),Ra;
a:{var Sa="",Ta=function(){var a=H;if(Pa)return/rv:([^\);]+)(\)|;)/.exec(a);if(Oa)return/Edge\/([\d\.]+)/.exec(a);if(Na)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a);if(Qa)return/WebKit\/(\S+)/.exec(a);if(Ma)return/(?:Version)[ \/]?(\S+)/.exec(a)}();Ta&&(Sa=Ta?Ta[1]:"");if(Na){var Ua,Va=r.document;Ua=Va?Va.documentMode:void 0;if(null!=Ua&&Ua>parseFloat(Sa)){Ra=String(Ua);break a}}Ra=Sa}var La={};
function Wa(a){return Ka(a,function(){{var b=0;const d=Ea(String(Ra)).split("."),f=Ea(String(a)).split("."),g=Math.max(d.length,f.length);for(let h=0;0==b&&h<g;h++){var c=d[h]||"",e=f[h]||"";do{c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""];e=/(\d*)(\D*)(.*)/.exec(e)||["","","",""];if(0==c[0].length&&0==e[0].length)break;b=Fa(0==c[1].length?0:parseInt(c[1],10),0==e[1].length?0:parseInt(e[1],10))||Fa(0==c[2].length,0==e[2].length)||Fa(c[2],e[2]);c=c[3];e=e[3]}while(0==b)}}return 0<=b})};var Xa=Na||Ma||Qa;var Ya=function(){if(!r.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{r.addEventListener("test",aa,b),r.removeEventListener("test",aa,b)}catch(c){}return a}();function Za(a,b){this.type=a;this.target=b}Za.prototype.h=function(){};function I(a){Za.call(this,a?a.type:"");this.relatedTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.g=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.pointerId=0;this.pointerType="";this.i=null;if(a){var b=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;var e=a.relatedTarget;if(e){if(Pa){a:{try{Ja(e.nodeName);var d=!0;break a}catch(f){}d=!1}d||(e=null)}}else"mouseover"==
b?e=a.fromElement:"mouseout"==b&&(e=a.toElement);this.relatedTarget=e;c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.g=a.keyCode||0;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;
this.metaKey=a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:$a[a.pointerType]||"";this.i=a;a.defaultPrevented&&I.Z.h.call(this)}}ba(I,Za);var $a={2:"touch",3:"pen",4:"mouse"};I.prototype.h=function(){I.Z.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ab="closure_listenable_"+(1E6*Math.random()|0);var bb=0;function cb(a,b,c,e,d){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!e;this.h=d;this.key=++bb;this.g=this.T=!1}function db(a){a.g=!0;a.listener=null;a.proxy=null;a.src=null;a.h=null};function eb(a){this.src=a;this.g={};this.h=0}eb.prototype.add=function(a,b,c,e,d){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.h++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.g&&h.listener==b&&h.capture==!!e&&h.h==d)break a}g=-1}-1<g?(b=a[g],c||(b.T=!1)):(b=new cb(b,this.src,f,!!e,d),b.T=c,a.push(b));return b};var fb="closure_lm_"+(1E6*Math.random()|0),gb={},hb=0;function J(a,b,c,e,d){if(e&&e.once)ib(a,b,c,e,d);else if(Array.isArray(b))for(var f=0;f<b.length;f++)J(a,b[f],c,e,d);else c=jb(c),a&&a[ab]?a.g(b,c,t(e)?!!e.capture:!!e,d):kb(a,b,c,!1,e,d)}
function kb(a,b,c,e,d,f){if(!b)throw Error("Invalid event type");var g=t(d)?!!d.capture:!!d,h=lb(a);h||(a[fb]=h=new eb(a));c=h.add(b,c,e,g,f);if(!c.proxy){e=mb();c.proxy=e;e.src=a;e.listener=c;if(a.addEventListener)Ya||(d=g),void 0===d&&(d=!1),a.addEventListener(b.toString(),e,d);else if(a.attachEvent)a.attachEvent(nb(b.toString()),e);else if(a.addListener&&a.removeListener)a.addListener(e);else throw Error("addEventListener and attachEvent are unavailable.");hb++}}
function mb(){function a(c){return b.call(a.src,a.listener,c)}var b=ob;return a}function ib(a,b,c,e,d){if(Array.isArray(b))for(var f=0;f<b.length;f++)ib(a,b[f],c,e,d);else c=jb(c),a&&a[ab]?a.h(b,c,t(e)?!!e.capture:!!e,d):kb(a,b,c,!0,e,d)}function nb(a){return a in gb?gb[a]:gb[a]="on"+a}
function ob(a,b){if(a.g)a=!0;else{b=new I(b,this);var c=a.listener,e=a.h||a.src;if(a.T&&"number"!==typeof a&&a&&!a.g){var d=a.src;if(d&&d[ab])d.i(a);else{var f=a.type,g=a.proxy;d.removeEventListener?d.removeEventListener(f,g,a.capture):d.detachEvent?d.detachEvent(nb(f),g):d.addListener&&d.removeListener&&d.removeListener(g);hb--;(f=lb(d))?(g=a.type,g in f.g&&ha(f.g[g],a)&&(db(a),0==f.g[g].length&&(delete f.g[g],f.h--)),0==f.h&&(f.src=null,d[fb]=null)):db(a)}}a=c.call(e,b)}return a}
function lb(a){a=a[fb];return a instanceof eb?a:null}var pb="__closure_events_fn_"+(1E9*Math.random()>>>0);function jb(a){if("function"===typeof a)return a;a[pb]||(a[pb]=function(b){return a.handleEvent(b)});return a[pb]};function qb(a,b){a.h()!=b&&a.s(b);a.l!=a.h()&&(a.l=a.h(),a.i.checked=a.l)}
class rb{constructor(a,b,c){var e=void 0;this.o=a;this.h=b;this.s=c;this.l=b();a=null;if(t(e)){a:{if(Xa&&!(Na&&Wa("9")&&!Wa("10")&&r.SVGElement&&e instanceof r.SVGElement)&&(b=e.parentElement))break a;b=e.parentNode;b=t(b)&&1==b.nodeType?b:null}null!=b&&"LABEL"==b.tagName&&(a=b)}else e=document.createElement("input"),e.type="checkbox",a=document.createElement("LABEL"),a.appendChild(e),a.appendChild(document.createTextNode(this.o));this.i=e;this.i.checked=this.l;this.v=null!==a?a:this.i;J(this.i,"change",
this.u,!0,this)}toString(){return""}g(){return this.v}u(){qb(this,!this.h())}j(){qb(this,this.h())}};class sb extends rb{constructor(a){super(a.h(!0),()=>a.g(),b=>va(a,b));this.m=a;Ba(this.m.i(),this)}toString(){return""}j(a){a==this.m&&super.j(a)}};function tb(a){a.m();0<a.h&&(a.i=setTimeout(()=>tb(a),void 0!==a.i?a.h:2*a.h))}
class K{constructor(a,b,c){if(!t(e)){var e=document.createElement("button");e.type="button";void 0===c?e.appendChild(document.createTextNode(a)):(e.className="icon",e.appendChild(c))}this.j=e;this.m=b;J(this.j,"mousedown",this.o,!0,this);J(this.j,"mouseup",this.l,!0,this);J(this.j,"dragleave",this.l,!1,this);this.i=void 0;this.h=0}toString(){return""}g(){return this.j}o(){tb(this)}l(){void 0!==this.i&&(clearTimeout(this.i),this.i=void 0)}};class L{constructor(a,b,c){c="number"===typeof c?c:0;this.g=w(a);this.h=w(b);this.i=w(c);this.j=this.l=sa}toString(){return""}add(a){return new L(this.g+a.g,this.h+a.h,this.i+a.i)}u(a){return null===a?!1:a.g===this.g&&a.h===this.h&&a.i===this.i}length(){if(isNaN(this.l)){var a=Math,b=a.sqrt;isNaN(this.j)&&(this.j=0===this.i?this.g*this.g+this.h*this.h:this.g*this.g+this.h*this.h+this.i*this.i);this.l=b.call(a,this.j)}return this.l}}new L(1,0);new L(0,1);new L(0,0);new L(0,-1);new L(-1,0);class ub{constructor(a,b,c,e,d,f){this.g=a;this.h=b;this.i=c;this.j=e;this.l=d;this.m=f}toString(){return""}scale(a,b){return new ub(this.g*a,this.h*a,this.i*b,this.j*b,this.l,this.m)}transform(a,b){"number"!==typeof a&&(b=a.h,a=a.g);if("number"!==typeof a||"number"!==typeof b)throw"need a Vector or two numbers";return new L(this.g*a+this.i*b+this.l,this.h*a+this.j*b+this.m)}translate(a,b){"number"!==typeof a&&(b=a.h,a=a.g);if("number"!==typeof a||"number"!==typeof b)throw"need a Vector or two numbers";
return new ub(this.g,this.h,this.i,this.j,this.l+this.g*a+this.i*b,this.m+this.h*a+this.j*b)}}var vb=new ub(1,0,0,1,0,0);function M(a){return(a.o+a.m)/2}function N(a){return(a.g+a.s)/2}
class O{constructor(a,b,c,e){this.o=w(a);this.m=w(c);this.g=w(b);this.s=w(e);if(a>c)throw"DoubleRect: left > right "+a+" > "+c;if(b>e)throw"DoubleRect: bottom > top "+b+" > "+e;}toString(){return""}u(a){return a===this?!0:a instanceof O?a.j()==this.o&&a.m==this.m&&a.g==this.g&&a.l()==this.s:!1}i(){return this.s-this.g}j(){return this.o}l(){return this.s}h(){return this.m-this.o}v(){return 1E-16>this.h()||1E-16>this.i()}scale(a,b){b=void 0===b?a:b;const c=M(this),e=N(this),d=this.h(),f=this.i();return new O(c-
a*d/2,e-b*f/2,c+a*d/2,e+b*f/2)}translate(a,b){"number"!==typeof a&&(b=a.h,a=a.g);if("number"!==typeof a||"number"!==typeof b)throw"";return new O(this.o+a,this.g+b,this.m+a,this.s+b)}}var wb=new O(0,0,0,0);var P={ca:"left",O:"middle",da:"right",N:"full",S:"value"};class Q{constructor(a,b){if("number"!==typeof a||"number"!==typeof b)throw"";if(0>a||0>b)throw"";this.m=a;this.g=b}toString(){return""}u(a){return this.m==a.m&&this.g==a.g}i(){return this.g}j(){return 0}l(){return 0}h(){return this.m}v(){return 1E-14>this.m||1E-14>this.g}}new Q(0,0);var xb={ea:"top",O:"middle",$:"bottom",N:"full",S:"value"};function yb(a,b){a:{var c="MIDDLE";var e=["LEFT","MIDDLE","RIGHT","FULL","VALUE"];for(let E=0,za=e.length;E<za;E++)if(c===e[E]){c=e[E];break a}throw"invalid HorizAlign value:  "+c;}a:{e="MIDDLE";var d=["TOP","MIDDLE","BOTTOM","FULL","VALUE"];for(let E=0,za=d.length;E<za;E++)if(e===d[E]){var f=d[E];break a}throw"invalid VerticalAlign value: "+e;}var g=1;if(1E-15>g||!isFinite(g))throw"bad aspectRatio "+g;e=b.j();d=b.g;const h=b.m-e,n=b.l()-d;if(1E-15>h||1E-15>n)throw"simRect cannot be empty "+b;b=a.l();
const m=a.j(),l=a.h();a=a.i();var k=0;let q=0,p=0,x=0;"FULL"==c&&(p=l/h,k=0);"FULL"==f&&(x=a/n,q=0);if("FULL"!=c||"FULL"!=f)if("FULL"==c?(x=p*g,k=!0):"FULL"==f?(p=x/g,k=!1):(p=l/h,x=p*g,k=!0,a<Math.floor(.5+x*n)&&(x=a/n,p=x/g,k=!1)),k)switch(k=0,c=Math.floor(.5+n*x),f){case "BOTTOM":q=0;break;case "MIDDLE":q=(a-c)/2;break;case "TOP":q=a-c;break;default:throw"unsupported alignment "+f;}else switch(q=0,f=Math.floor(.5+h*p),c){case "LEFT":k=0;break;case "MIDDLE":k=(l-f)/2;break;case "RIGHT":k=l-f;break;
default:throw"unsupported alignment "+c;}return new zb(m,b+a,e-k/p,d-q/x,p,x)}function Ab(a,b){return a.m+(b-a.j)/a.g}function Bb(a,b){return a.l+(a.i-b)/a.h}function Cb(a,b){let c;"number"===typeof b?c=void 0:(c=b.h,b=b.g);if("number"!==typeof b||"number"!==typeof c)throw"";return new L(Ab(a,b),Bb(a,c))}function R(a,b){return a.j+(b-a.m)*a.g}function S(a,b){return a.i-(b-a.l)*a.h}
class zb{constructor(a,b,c,e,d,f){this.j=v(a);this.i=v(b);this.m=v(c);this.l=v(e);this.g=v(d);this.h=v(f);a=vb;a=a.translate(this.j,this.i);a=a.scale(this.g,-this.h);a.translate(-this.m,-this.l)}toString(){return""}};function Db(a,b){var c=Math.pow(10,Math.floor(Math.log(b)/Math.LN10));b/=c;c*=8<=b?2:5<=b?1:3<=b?.5:2<=b?.4:.2;b=Math.log(c)/Math.LN10;a.j=0>b?Math.ceil(-b):0;return c}function Eb(a){a.m="BOTTOM";a.g=!0}function Fb(a){a.i="LEFT";a.g=!0}class Gb{constructor(a){this.h=a||wb;this.s="14pt sans-serif";this.l="gray";this.o=0;this.m="VALUE";this.u=0;this.i="VALUE";this.j=0;this.g=!0}toString(){return""}};function Hb(a){return a.replace(/\\(x|u00)([0-9a-fA-F]{2})/g,function(b,c,e){return String.fromCharCode(Number("0x"+e))})}
function Ib(a,b){for(let e in window){a:{for(let d=0,f=b.length;d<f;d++)if(e==b[d]){var c=!1;break a}c=(new RegExp("\\b"+e+"\\b","g")).test(a)}if(c)throw'prohibited name: "'+e+'" found in script: '+a;}if(/\b(myEval|Function|with|__proto__|call|apply|caller|callee|arguments|addWhiteList|vetCommand|badCommand|whiteList_|addRegex|addRegex2|regexs_|afterEvalFn_|setAfterEval|parentNode|parentElement|innerHTML|outerHTML|offsetParent|insertAdjacentHTML|appendChild|insertBefore|replaceChild|removeChild|ownerDocument|insertBefore|setParser|defineNames|globalEval|window|defineProperty|defineProperties|__defineGetter__|__defineSetter__)\b/g.test(a))throw"prohibited name in script: "+a;
}function T(a,b){a.j&&(a.j.value+=b+"\n",Jb(a))}function Kb(a){let b=0,c="",e,d,f="",g=!1,h=!1,n=!1,m="",l,k;l=0;for(k=a.length;l<k;l++)if(e=f," "!=f&&"\t"!=f&&"\n"!=f&&(c=f),f=a[l],d=l+1<k?a[l+1]:"\x00",g){if("\n"==f&&(g=!1,0==b))break}else if(h)"/"==f&&"\\"!=e&&(h=!1);else if(n)f==m&&"\\"!=e&&(n=!1,m="");else if("/"==f)"/"==d?g=!0:"*"==d||!c||"="!=c&&"("!=c||(h=!0);else if('"'==f||"'"==f)n=!0,m=f;else if(";"==f&&0==b)break;else"{"==f?b++:"}"==f&&b--;return[a.slice(0,l+1),a.slice(l+1)]}
function Lb(a,b){b=Mb(b);let c="",e=0;for(;b;){if(1E4<++e)throw"Terminal.expand";var d=b.match(/^[^'"/]+/);if(null!==d&&(d=d[0],b=b.slice(d.length),d=ea(a.B,function(f,g){return f.replace(g.pa,g.replace)},d),Ib(d,a.C),c+=d,0==b.length))break;if(c.match(/.*[=(][ ]*$/)&&(d=b.match(/^\/[^*/](\\\/|[^\\/])*\//),null!==d)){d=d[0];b=b.slice(d.length);c+=d;continue}0<b.length&&"/"==b[0]?(c+="/",b=b.slice(1)):(d=b.match(/^"(\\.|[^\\"])*"/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&'"'==b[0]?(c+=
'"',b=b.slice(1)):(d=b.match(/^'(\\.|[^\\'])*'/),null!==d?(d=d[0],b=b.slice(d.length),c+=d):0<b.length&&"'"==b[0]&&(c+="'",b=b.slice(1))))}return c}function Jb(a){a.g&&a.j&&(a.j.scrollTop=a.j.scrollHeight-a.j.offsetHeight,a.g.value="")}function Mb(a){const b=a.match(/^\s*(var|let|const)\s+(\w[\w_\d]*)(.*)/);return b?b[2]+b[3]:a}function Nb(){let a=window.location.href;const b=a.indexOf("?");-1<b&&(a=a.slice(0,b));return a}
function Ob(a){try{const b=window.localStorage;if(null!=b){const c=b.getItem(Nb());c&&(T(a,"//start of stored scripts"),c.split("\n").forEach(e=>a.eval(e)),T(a,"//end of stored scripts"))}}catch(b){T(a,"//cannot access localStorage due to: "+b)}}
class Pb{constructor(a,b){if(this.g=a)a.spellcheck=!1;if(this.j=b)b.spellcheck=!1;this.g&&J(this.g,"keydown",this.v,!1,this);this.g&&J(this.g,"change",this.A,!0,this);this.s=!1;this.l=[];this.h=-1;this.B=[];this.o=[];this.z={};this.C="myphysicslab goog length name terminal find".split(" ");this.m=0;T(this,"myPhysicsLab version 2.0.0, advanced-compiled on 2021-03-25 23:39:58.")}toString(){return""}eval(a,b,c){b="boolean"===typeof b?b:!0;if((c=c||!1)&&!b)throw"";a=Hb(a).trim();if(!a.match(/^\s*$/)){this.m++;
1<this.m&&(b=!1);b?(this.l.unshift(a),this.h=-1):(this.o.push(this.i),this.i=void 0);try{{var e=a;const f=/^\w\s*\[\s*\d*\s*\]$/;var d=e.match(/\w\s*\[[^\]]*?\]/g);if(null!=d)for(let g=0,h=d.length;g<h;g++)if(!f.test(d[g]))throw"prohibited usage of square brackets in script: "+e+" Only positive integer is allowed in brackets.  Try using Util.get(array, index) or Util.set(array, index, value).";}for(d=["",a];d=Kb(d[1]),d[0];){const f=d[0].trim();if(0!=f.length){{b&&T(this,"> "+f);if(f.match(/^\s*\/\/.*/))continue;
const g=Lb(this,f);console.log("JavaScript is disabled due to advanced compilation; try a simple-compiled version: "+g);T(this,"JavaScript is disabled due to advanced compilation; try a simple-compiled version");this.i=void 0}}}b&&void 0!==this.i&&";"!=a.slice(-1)&&T(this,String(this.i));b&&void 0!==this.u&&this.u()}catch(f){if(b?(this.i=void 0,T(this,f)):this.i=this.o.pop(),!c)throw this.m--,f.message+="\nScript: "+a,f;}this.m--;if(b)return Jb(this),this.i;a=this.i;this.i=this.o.pop();return a}}v(a){this.g&&
this.j&&(a.metaKey&&75==a.g?(this.j.value="",a.h()):38==a.g||40==a.g?(-1==this.h&&""!=this.g.value&&(this.l.unshift(this.g.value),this.h=0),38==a.g?this.h<this.l.length-1&&(this.h++,this.g.value=this.l[this.h]):40==a.g&&(0<this.h?(this.h--,this.g.value=this.l[this.h]):(this.h=-1,this.g.value="")),a.h()):13==a.g&&this.eval(this.g.value,!0,!0))}A(){this.g&&this.eval(this.g.value,!0,!0)}};class Qb{constructor(a,b){Ba(a,this);this.g=b}toString(){return""}j(a){this.g(a)}};class Rb{constructor(){this.g=[]}toString(){return""}v(a){this.g.includes(a)||this.g.push(a)}};function Sb(a){let b=!0,c=ta;for(let e=0,d=a.g.length;e<d;e++){if(100<c){b=!1;break}c=100}b||(ma(a.g,function(){return 0}),a.h=!0)}
function Tb(a,b,c){Sb(a);a.g.forEach(e=>{b.save();b.strokeStyle=e.l;b.fillStyle=e.l;b.font=e.s;b.textAlign="start";b.textBaseline="alphabetic";var d=e.h;var f=d.j(),g=d.m,h=d.g,n=d.l();var m=g-.06*(g-f);var l=f+.01*(g-f);switch(e.i){case "VALUE":var k=e.u;k<l?k=l:k>m&&(k=m);m=R(c,k);break;case "RIGHT":m=R(c,m);break;case "LEFT":m=R(c,l);break;default:m=R(c,M(d))}l=S(c,n);k=S(c,h);switch(e.m){case "VALUE":d=S(c,e.o);d<l+30?d=l+30:d>k-30&&(d=k-30);break;case "TOP":d=l+30;break;case "BOTTOM":d=k-30;
break;default:d=S(c,N(d))}b.beginPath();b.moveTo(R(c,f),d);b.lineTo(R(c,g),d);b.stroke();f=d;l=e.h;g=f-4;d=g+8;var q=l.j();l=l.m;k=Db(e,l-q);for(var p=Math.ceil(q/k)*k;p<l;){q=R(c,p);b.beginPath();b.moveTo(q,g);b.lineTo(q,d);b.stroke();const x=p+k;if(x>p)p=p.toFixed(e.j),b.fillText(p,q-b.measureText(p).width/2,d+12);else{b.fillText("scale is too small",q,d+12);break}p=x}g=b.measureText("x").width;b.fillText("x",R(c,l)-g-5,f-8);b.beginPath();b.moveTo(m,S(c,h));b.lineTo(m,S(c,n));b.stroke();h=m;f=e.h;
n=h-4;m=n+8;d=f.g;f=f.l();g=Db(e,f-d);for(k=Math.ceil(d/g)*g;k<f;){d=S(c,k);b.beginPath();b.moveTo(n,d);b.lineTo(m,d);b.stroke();l=k+g;if(l>k)k=k.toFixed(e.j),q=b.measureText(k).width,"RIGHT"===e.i?b.fillText(k,m-(q+10),d+6):b.fillText(k,m+5,d+6);else{b.fillText("scale is too small",m,d);break}k=l}n=b.measureText("y").width;"RIGHT"===e.i?b.fillText("y",h-(n+6),S(c,f)+13):b.fillText("y",h+6,S(c,f)+13);b.restore()})}
class Ub extends Da{constructor(){super("DISPLAY_LIST_"+Vb++);this.g=[];this.h=!0}toString(){return""}add(a){if(!t(a))throw"non-object passed to DisplayList.add";Sb(this);let b=this.g.length,c;for(c=0;c<b;c++);ia(this.g,c,0,a);this.h=!0;F(this,new B(this,"OBJECT_ADDED",a))}get(a){const b=this.g.length;if(0>a||a>=b)throw a+" is not in range 0 to "+(b-1);Sb(this);return this.g[a]}length(){return this.g.length}}var Vb=1;function Wb(a,b){if(0<a.h()&&0<a.i()){const c=new Q(a.h(),a.i());Xb(b,c)}a.j.push(b);a.v(b);a.o=!0;F(a,new B(a,"VIEW_ADDED",b));F(a,new B(a,"VIEW_LIST_MODIFIED"));if(null==a.m){if(null!=b&&!a.j.includes(b))throw"cannot set focus to unknown view "+b;a.m!=b&&(a.m=b,a.o=!0,F(a,new B(a,"FOCUS_VIEW_CHANGED",b)))}}
function Yb(a){let b=!1;for(let f=0,g=a.j.length;f<g;f++){var c=a.j[f];{var e=c.G;let h=!1;for(let n=0,m=e.g.length;n<m;n++){var d=e.g[n];d.g?(d.g=!1,d=!0):d=!1;h=h||d}h||e.h?(e.h=!1,e=!0):e=!1}e||c.u?(c.u=!1,c=!0):c=!1;b=b||c}return b||a.o?(a.o=!1,!0):!1}function Zb(a){const b=new Q(a.g.width,a.g.height);a.j.forEach(c=>Xb(c,b));a.o=!0;F(a,new B(a,"SIZE_CHANGED"))}
function $b(a){if(null!=a.g.offsetParent){0<a.l&&a.l--;const b=Yb(a);if(b||0<a.l){const c=a.g.getContext("2d");c.save();try{""!=a.u?(c.globalAlpha=a.s,c.fillStyle=a.u,c.fillRect(0,0,a.g.width,a.g.height),c.globalAlpha=1,1==a.s?a.l=0:b&&(a.l=Math.floor(10/a.s))):c.clearRect(0,0,a.g.width,a.g.height),a.j.forEach(e=>{c.save();c.globalAlpha=e.ba;Tb(e.G,c,e.s);c.restore()})}finally{c.restore()}}}}function ac(a){a.g.width=500;a.g.height=500;Zb(a);G(a,U.F);G(a,U.D)}
class bc extends Da{constructor(){var a=document.createElement("canvas");super("canvas1");this.g=a;a.contentEditable=!1;this.j=[];this.A=new Rb;this.m=null;this.s=1;this.u="";this.o=!0;this.l=0;D(this,new C(this,U.F,cc.F,()=>this.h()));D(this,new C(this,U.D,cc.D,()=>this.i()));D(this,new C(this,U.ALPHA,cc.ALPHA,()=>this.s));D(this,new ya(this,U.K,cc.K,()=>this.u))}toString(){return""}v(a){this.A.v(a)}i(){return this.g.height}h(){return this.g.width}}
var U={F:"width",D:"height",ALPHA:"alpha",K:"background"},cc=U;function dc(a){if(null!=a.j){var b=ra?.001*performance.now():.001*Date.now();0<=b-(a.i-a.h)&&(a.j(),a.i=b,a.h=0);a.g=a.m?setTimeout(a.o,17):requestAnimationFrame(a.o)}}function ec(a,b){a.l=!1;void 0!==a.g&&(a.m?clearTimeout(a.g):cancelAnimationFrame(a.g),a.g=void 0);a.i=NaN;a.h=0;a.j=b}function fc(a){a.l||(a.l=!0,a.h=0,a.i=(ra?.001*performance.now():.001*Date.now())-1E-7,dc(a))}
class gc{constructor(){this.m="function"!==typeof requestAnimationFrame;this.g=void 0;this.j=null;this.o=()=>dc(this);this.l=!1;this.i=sa;this.h=0}toString(){return""}};function Xb(a,b){if(!(b instanceof Q))throw"not a ScreenRect: "+b;if(b.v())throw"empty screenrect";a.B.u(b)||(a.B=b,hc(a),F(a,new B(a,"SCREEN_RECT_CHANGED")))}function ic(a,b){A(a.g,b)&&(a.g=b,a.A&&(a.l=a.g/a.J),jc(a))}function kc(a,b){if(!(b instanceof O))throw"not a DoubleRect: "+b;b.u(a.j)||(a.j=b,hc(a),G(a,V.F),G(a,V.D),G(a,V.L),G(a,V.M),F(a,new B(a,"SIM_RECT_CHANGED")))}function jc(a){var b=a.m-a.l/2;const c=a.o-a.g/2;b=new O(b,c,b+a.l,c+a.g);a.u=!0;kc(a,b)}
function hc(a){var b=yb(a.B,a.j);if(!(b instanceof zb))throw"not a CoordMap: "+b;a.s=b;a.u=!0;F(a,new B(a,"COORD_MAP_CHANGED"));a.l=a.j.h();a.g=a.j.i();a.m=M(a.j);a.o=N(a.j);a.J=a.g/a.l;a.u=!0}
class lc extends Da{constructor(a){super("simView");if(!(a instanceof O)||a.v())throw"bad simRect: "+a;this.j=a;this.B=new Q(800,600);this.G=new Ub;this.A=!0;this.ba=1;this.s=yb(this.B,this.j);this.l=a.h();this.g=a.i();this.m=M(a);this.o=N(a);this.J=this.g/this.l;this.u=!0;this.aa=new Rb;D(this,new C(this,V.F,W.F,()=>this.h()));D(this,new C(this,V.D,W.D,()=>this.i()));D(this,xa(new C(this,V.L,W.L,()=>this.m)));D(this,xa(new C(this,V.M,W.M,()=>this.o)));D(this,new wa(this,V.R,W.R,()=>this.A,b=>{if(this.A!=
b){if(this.A=b)this.J=this.g/this.l;this.u=!0;G(this,V.R)}}));D(this,new ya(this,V.Y,W.Y,()=>"MIDDLE",[xb.ea,xb.O,xb.$,xb.N,xb.S],["TOP","MIDDLE","BOTTOM","FULL","VALUE"]));D(this,new ya(this,V.W,W.W,()=>"MIDDLE",[P.ca,P.O,P.da,P.N,P.S],["LEFT","MIDDLE","RIGHT","FULL","VALUE"]));D(this,new C(this,V.V,W.V,()=>1))}toString(){return""}v(a){this.aa.v(a)}i(){return this.g}h(){return this.l}}
var V={R:"scale X-Y together",F:"width",D:"height",L:"center-x",M:"center-y",Y:"vertical-align",W:"horizontal-align",V:"aspect-ratio"},W=V;function mc(a){const b=new Gb(a.j);Eb(b);Fb(b);new Qb(a,c=>{if(c.j("COORD_MAP_CHANGED")){c=a.s;var e=a.B;c=new O(Ab(c,e.j()),Bb(c,e.l()+e.i()),Ab(c,e.j()+e.h()),Bb(c,e.l()));b.h=c;b.g=!0}});a.G.add(b)}
function nc(a,b){var c=qa+"/",e=document.createElement("div");e.style.width="96px";var d=u(c+"up_gray.png");d=new K("up",()=>{var h=a.o+.05*a.g;A(a.o,h)&&(a.o=h,jc(a))},d);d.h=100;e.appendChild(d.g());const f=document.createElement("div");f.style.width=e.style.width;d=u(c+"backward_gray.png");d=new K("left",()=>{var h=a.m-.05*a.l;A(a.m,h)&&(a.m=h,jc(a))},d);d.h=100;f.appendChild(d.g());d=u(c+"target_gray.png");d=new K("reset",b,d);f.appendChild(d.g());d=u(c+"forward_gray.png");d=new K("right",()=>
{var h=a.m+.05*a.l;A(a.m,h)&&(a.m=h,jc(a))},d);d.h=100;f.appendChild(d.g());const g=document.createElement("div");d=u(c+"down_gray.png");d=new K("down",()=>{var h=a.o-.05*a.g;A(a.o,h)&&(a.o=h,jc(a))},d);d.h=100;g.appendChild(d.g());g.style.width=e.style.width;b=document.createElement("div");b.appendChild(e);b.appendChild(f);b.appendChild(g);b.style.textAlign="center";e=document.createElement("div");d=u(c+"plus_gray.png");d=new K("zoomIn",()=>{ic(a,a.g/1.1)},d);d.h=100;e.appendChild(d.g());e.appendChild(document.createElement("BR"));
d=u(c+"minus_gray.png");d=new K("zoomOut",()=>{ic(a,1.1*a.g)},d);d.h=100;e.appendChild(d.g());e.style.cssFloat="right";e.style.marginTop="18px";c=document.createElement("div");c.style.position="absolute";c.style.right="10%";c.style.bottom="12%";c.style.width="126px";c.appendChild(e);c.appendChild(b);c.style.display="none";return c}function oc(a,b){const c=new wa(b,pc.P,qc.P,()=>"none"!=a.style.display,e=>{a.style.display=e?"block":"none";G(b,pc.P)});D(b,c);return c}
var pc={P:"pan-zoom",K:"background",la:"white",ia:"black",na:"white with trails",ka:"black with trails",ma:"white with long trails",ja:"black with long trails"},qc=pc;function rc(a,b){var c=a.j;b=new L(c.g-b.g,c.h-b.h,c.i-b.i);c=Cb(a.h,a.i.add(b));var e=a.g.j;{b=e.h();e=e.i();const d=c.g;c=c.h;b=new O(d-b/2,c-e/2,d+b/2,c+e/2)}kc(a.g,b)}class sc{constructor(a,b){this.g=a;var c=this.h=a.s;a=a.j;a=new L(M(a),N(a));this.i=new L(R(c,a.g),S(c,a.h));this.j=b}};function tc(a,b,c,e){if(b.target==a.g.g)if(a.g.g.focus(),a.h=!0,c=uc(a,c,e),a.m&&a.B==b.ctrlKey&&a.C==b.metaKey&&a.G==b.shiftKey&&a.A==b.altKey)b=a.g.m,null!=b&&(a.j=new sc(b,c),rc(a.j,c));else{b=a.g;e=Array.from(b.j);for(let f=e.length-1;0<=f;f--){var d=e[f];Cb(d.s,c);d=d.G;Sb(d);d=Array.from(d.g);for(d=d.length-1;0<=d;d--);}b=b.m;null!=b&&Cb(b.s,c);a.i=null;null!=a.i&&(a.i.g=!1)}}
function uc(a,b,c){const e=a.g.g,d=e.getBoundingClientRect();b=new L(b-d.left,c-d.top);a=e.offsetWidth/a.g.h();if(1===a)a=b;else{if(1E-10>a)throw"Vector.divide by near zero factor "+(null!=a?a.toExponential(7):null===a?"null":"undefined");a=new L(b.g/a,b.h/a,b.i/a)}return a}function vc(a,b,c,e){const d=a.g.g;null!=d.offsetParent&&(c=uc(a,c,e),(b.target==d||b.target==document.body)&&a.h&&b.h(),null!=a.j?rc(a.j,c):null!=a.i&&(a=a.i,a.h=Cb(a.i.s,c)))}function wc(a){a.i=null;a.j=null;a.h=!1}
class xc{constructor(a){var b={alt:!1,control:!1,ga:!1,shift:!1};this.g=a;this.m=null!=b;this.B=null!=b?1==b.control:!1;this.C=null!=b?1==b.ga:!1;this.G=null!=b?1==b.shift:!1;this.A=null!=b?1==b.alt:!0;this.h=!1;this.j=this.i=null;J(a.g,"mousedown",this.u,!1,this);J(document,"mousemove",this.v,!1,this);J(document,"mouseup",this.l,!1,this);J(document,"keydown",this.o,!1,this);J(document,"keyup",this.s,!1,this);J(document,"touchstart",this.J,!1,this);J(document,"touchmove",this.I,!1,this);J(document,
"touchend",this.H,!1,this)}toString(){return""}u(a){tc(this,a,a.clientX,a.clientY)}v(a){vc(this,a,a.clientX,a.clientY)}l(a){const b=this.g.g;null!=b.offsetParent&&((a.target==b||a.target==document.body)&&this.h&&a.h(),wc(this))}o(){}s(){}J(a){if(a.target==this.g.g){var b=a.i;null!=b&&((b=b.touches)&&1==b.length?tc(this,a,b[0].clientX,b[0].clientY):wc(this))}}I(a){var b=a.i;b=null!=b?b.touches:[];this.h&&b&&1==b.length?vc(this,a,b[0].clientX,b[0].clientY):wc(this)}H(a){this.h&&this.l(a)}};function yc(a,b){a=document.getElementById(a[b]);if(!t(a))throw"elementId not found: "+b;return a}
class X extends Da{constructor(a){na();super("APP");pa(a.images_dir);var b=yc(a,"sim_canvas");b.style.position="relative";this.g=new bc;ac(this.g);b.appendChild(this.g.g);this.o=yc(a,"sim_controls");var c=yc(a,"term_output");a=yc(a,"term_input");this.i=new Pb(a,c);this.l=new O(-6,-6,6,6);this.h=new lc(this.l);Wb(this.g,this.h);mc(this.h);$b(this.g);new xc(this.g);c=nc(this.h,()=>kc(this.h,this.l));b.appendChild(c);this.j=oc(c,this);va(this.j,!0);b=(new sb(this.j)).g();b.style.display="block";this.o.appendChild(b);
this.m=new gc;ec(this.m,()=>$b(this.g));fc(this.m)}fa(){}eval(a,b){try{return this.i.eval(a,b)}catch(c){a=this.i,b=c,a.s?console.log(b):(a.s=!0,alert(b))}}ha(){var a=this.i;{var b=window.location.href;const c=b.indexOf("?");-1<c?(b=b.slice(c+1),b=decodeURIComponent(b),a.eval(b),b=!0):b=!1}b||Ob(a)}start(){}}X.prototype.start=X.prototype.start;X.prototype.setup=X.prototype.ha;X.prototype.eval=X.prototype.eval;X.prototype.defineNames=X.prototype.fa;function zc(a){return new X(a)}
var Ac=["makeBlankSlateApp"],Y=r;Ac[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+Ac[0]);for(var Z;Ac.length&&(Z=Ac.shift());)Ac.length||void 0===zc?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=zc;}).call(window)
